{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba5\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"filename\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba5\\\\laba5.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.3:production":{"value":{"code":"\"use strict\";\n\nvar http = require(\"http\");\n\nvar sqlite3 = require(\"sqlite3\").verbose();\n\nvar db = new sqlite3.Database(\"products.db\");\ndb.run(\"CREATE TABLE Products (id integer primary key, name char(40), count float, units char(5), type char(50))\", function (err) {\n  if (err) {\n    console.log(\"Can't create table\");\n  } else {\n    var stmnt = db.prepare(\"INSERT INTO Products (name, count, units, type) values ((?), (?), (?), (?))\", function (err) {\n      if (err) {\n        console.log(\"Can't insert to table\");\n      } else {\n        stmnt.run(\"картофель\", 1.5, \"кг\", \"овощи\");\n        stmnt.run(\"лук\", 1, \"кг\", \"овощи\");\n        stmnt.run(\"капуста\", 0.7, \"кг\", \"овощи\");\n        stmnt.run(\"яблоко\", 5, \"шт\", \"фрукты\");\n        stmnt.run(\"банан\", 3, \"шт\", \"фрукты\");\n        stmnt.run(\"гречка\", 1, \"кг\", \"бакалея\");\n        stmnt.run(\"рис\", 1, \"кг\", \"бакалея\");\n        stmnt.run(\"пиво\", 0.5, \"л\", \"алкоголь\");\n        stmnt.run(\"творог\", 0.4, \"кг\", \"молочная продукция\");\n        stmnt.run(\"молоко\", 1, \"л\", \"молочная продукция\");\n        stmnt.run(\"яйца\", 10, \"шт\", \"продукты животного происхождения\");\n        stmnt.run(\"филе курицы\", 0.9, \"кг\", \"продукты животного происхождения\");\n        stmnt.run(\"сыр\", 0.5, \"кг\", \"молочная продукция\");\n        stmnt.run(\"сахар\", 3, \"кг\", \"бакалея\");\n        stmnt.run(\"какао-порошок\", 0.3, \"кг\", \"бакалея\");\n        stmnt.run(\"сметана\", 0.2, \"кг\", \"молочная продукция\");\n        stmnt.run(\"вода\", 1.5, \"кг\", \"напитки\");\n        stmnt.run(\"яблочный сок\", 1, \"л\", \"напитки\");\n        stmnt.run(\"свиной фарш\", 2.2, \"кг\", \"продукты животного происхождения\");\n        stmnt.run(\"мука\", 1, \"кг\", \"бакалея\");\n        stmnt.run(\"сливочное масло\", 0.4, \"кг\", \"молочная продукция\");\n        stmnt.run(\"шампиньоны\", 0.7, \"кг\", \"овощи\");\n        stmnt.run(\"колбаса\", 0.6, \"кг\", \"продукты животного происхождения\");\n        stmnt.finalize();\n      }\n    });\n  }\n});\nhttp.createServer(function (request, response) {\n  response.writeHead(200, {\n    \"Content-Type\": \"text/html; charset=utf-8\"\n  });\n  response.write(\"<!DOCTYPE html>\\n\" + \"<html>\\n\" + \" <head>\\n\" + \" <meta charset='utf-8'>\\n\" + \" </head>\\n\" + \" <body>\\n\");\n  db.all(\"SELECT * FROM Products\", function (err, rows) {\n    if (err) {\n      console.log(\"Can't select from table\");\n    } else {\n      for (var i = 0; i < rows.length; i++) {\n        var row = rows[i];\n        response.write(row.id + \" \" + row.name + \" \" + row.count + \" \" + row.units + \" \" + row.type + \"<br>\");\n      }\n\n      db.close();\n    }\n\n    response.end(\" </body>\\n\" + \"</html>\\n\");\n  });\n}).listen(3000);\nconsole.log(\"Server is running\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwIiwicmVxdWlyZSIsInNxbGl0ZTMiLCJ2ZXJib3NlIiwiZGIiLCJEYXRhYmFzZSIsInJ1biIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzdG1udCIsInByZXBhcmUiLCJmaW5hbGl6ZSIsImNyZWF0ZVNlcnZlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsIndyaXRlSGVhZCIsIndyaXRlIiwiYWxsIiwicm93cyIsImkiLCJsZW5ndGgiLCJyb3ciLCJpZCIsIm5hbWUiLCJjb3VudCIsInVuaXRzIiwidHlwZSIsImNsb3NlIiwiZW5kIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGRhc2hhXFxnaXRodWJcXGRhdGFiYXNlXFxzcmNcXGxhYmE1XFwiLCJzb3VyY2VzIjpbImxhYmE1LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XHJcbnZhciBzcWxpdGUzID0gcmVxdWlyZShcInNxbGl0ZTNcIikudmVyYm9zZSgpXHJcbnZhciBkYiA9IG5ldyBzcWxpdGUzLkRhdGFiYXNlKFwicHJvZHVjdHMuZGJcIilcclxuXHJcbmRiLnJ1bihcIkNSRUFURSBUQUJMRSBQcm9kdWN0cyAoaWQgaW50ZWdlciBwcmltYXJ5IGtleSwgbmFtZSBjaGFyKDQwKSwgY291bnQgZmxvYXQsIHVuaXRzIGNoYXIoNSksIHR5cGUgY2hhcig1MCkpXCIsIGZ1bmN0aW9uKGVycil7XHJcbiAgaWYgKGVycikge1xyXG4gICAgY29uc29sZS5sb2coXCJDYW4ndCBjcmVhdGUgdGFibGVcIilcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB2YXIgc3RtbnQgPSBkYi5wcmVwYXJlKFwiSU5TRVJUIElOVE8gUHJvZHVjdHMgKG5hbWUsIGNvdW50LCB1bml0cywgdHlwZSkgdmFsdWVzICgoPyksICg/KSwgKD8pLCAoPykpXCIsIGZ1bmN0aW9uKGVycil7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNhbid0IGluc2VydCB0byB0YWJsZVwiKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHN0bW50LnJ1bihcItC60LDRgNGC0L7RhNC10LvRjFwiLCAxLjUsIFwi0LrQs1wiLFwi0L7QstC+0YnQuFwiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQu9GD0LpcIiwgMSwgXCLQutCzXCIsXCLQvtCy0L7RidC4XCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItC60LDQv9GD0YHRgtCwXCIsIDAuNywgXCLQutCzXCIsXCLQvtCy0L7RidC4XCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGP0LHQu9C+0LrQvlwiLCA1LCBcItGI0YJcIixcItGE0YDRg9C60YLRi1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQsdCw0L3QsNC9XCIsIDMsIFwi0YjRglwiLFwi0YTRgNGD0LrRgtGLXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItCz0YDQtdGH0LrQsFwiLCAxLCBcItC60LNcIixcItCx0LDQutCw0LvQtdGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGA0LjRgVwiLCAxLCBcItC60LNcIixcItCx0LDQutCw0LvQtdGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItC/0LjQstC+XCIsIDAuNSwgXCLQu1wiLFwi0LDQu9C60L7Qs9C+0LvRjFwiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRgtCy0L7RgNC+0LNcIiwgMC40LCBcItC60LNcIixcItC80L7Qu9C+0YfQvdCw0Y8g0L/RgNC+0LTRg9C60YbQuNGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItC80L7Qu9C+0LrQvlwiLCAxLCBcItC7XCIsXCLQvNC+0LvQvtGH0L3QsNGPINC/0YDQvtC00YPQutGG0LjRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRj9C50YbQsFwiLCAxMCwgXCLRiNGCXCIsXCLQv9GA0L7QtNGD0LrRgtGLINC20LjQstC+0YLQvdC+0LPQviDQv9GA0L7QuNGB0YXQvtC20LTQtdC90LjRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRhNC40LvQtSDQutGD0YDQuNGG0YtcIiwgMC45LCBcItC60LNcIixcItC/0YDQvtC00YPQutGC0Ysg0LbQuNCy0L7RgtC90L7Qs9C+INC/0YDQvtC40YHRhdC+0LbQtNC10L3QuNGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGB0YvRgFwiLCAwLjUsIFwi0LrQs1wiLFwi0LzQvtC70L7Rh9C90LDRjyDQv9GA0L7QtNGD0LrRhtC40Y9cIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0YHQsNGF0LDRgFwiLCAzLCBcItC60LNcIixcItCx0LDQutCw0LvQtdGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItC60LDQutCw0L4t0L/QvtGA0L7RiNC+0LpcIiwgMC4zLCBcItC60LNcIixcItCx0LDQutCw0LvQtdGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGB0LzQtdGC0LDQvdCwXCIsIDAuMiwgXCLQutCzXCIsXCLQvNC+0LvQvtGH0L3QsNGPINC/0YDQvtC00YPQutGG0LjRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQstC+0LTQsFwiLCAxLjUsIFwi0LrQs1wiLFwi0L3QsNC/0LjRgtC60LhcIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0Y/QsdC70L7Rh9C90YvQuSDRgdC+0LpcIiwgMSwgXCLQu1wiLFwi0L3QsNC/0LjRgtC60LhcIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0YHQstC40L3QvtC5INGE0LDRgNGIXCIsIDIuMiwgXCLQutCzXCIsXCLQv9GA0L7QtNGD0LrRgtGLINC20LjQstC+0YLQvdC+0LPQviDQv9GA0L7QuNGB0YXQvtC20LTQtdC90LjRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQvNGD0LrQsFwiLCAxLCBcItC60LNcIixcItCx0LDQutCw0LvQtdGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGB0LvQuNCy0L7Rh9C90L7QtSDQvNCw0YHQu9C+XCIsIDAuNCwgXCLQutCzXCIsXCLQvNC+0LvQvtGH0L3QsNGPINC/0YDQvtC00YPQutGG0LjRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRiNCw0LzQv9C40L3RjNC+0L3Ri1wiLCAwLjcsIFwi0LrQs1wiLFwi0L7QstC+0YnQuFwiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQutC+0LvQsdCw0YHQsFwiLCAwLjYsIFwi0LrQs1wiLFwi0L/RgNC+0LTRg9C60YLRiyDQttC40LLQvtGC0L3QvtCz0L4g0L/RgNC+0LjRgdGF0L7QttC00LXQvdC40Y9cIik7XHJcbiAgICAgICAgc3RtbnQuZmluYWxpemUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmh0dHAuY3JlYXRlU2VydmVyKGZ1bmN0aW9uIChyZXF1ZXN0LCByZXNwb25zZSl7XHJcbiAgcmVzcG9uc2Uud3JpdGVIZWFkKDIwMCwge1wiQ29udGVudC1UeXBlXCI6IFwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCJ9KTtcclxuICByZXNwb25zZS53cml0ZShcIjwhRE9DVFlQRSBodG1sPlxcblwiICtcclxuICAgIFwiPGh0bWw+XFxuXCIgK1xyXG4gICAgXCIgPGhlYWQ+XFxuXCIgK1xyXG4gICAgXCIgPG1ldGEgY2hhcnNldD0ndXRmLTgnPlxcblwiICtcclxuICAgIFwiIDwvaGVhZD5cXG5cIiArXHJcbiAgICBcIiA8Ym9keT5cXG5cIlxyXG4gICk7XHJcbiAgZGIuYWxsKFwiU0VMRUNUICogRlJPTSBQcm9kdWN0c1wiLCBmdW5jdGlvbihlcnIsIHJvd3Mpe1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkNhbid0IHNlbGVjdCBmcm9tIHRhYmxlXCIpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJvdyA9IHJvd3NbaV07XHJcbiAgICAgICAgcmVzcG9uc2Uud3JpdGUocm93LmlkICsgXCIgXCIgKyByb3cubmFtZSArIFwiIFwiICsgcm93LmNvdW50ICsgXCIgXCIgKyByb3cudW5pdHMgKyBcIiBcIiArIHJvdy50eXBlICsgXCI8YnI+XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGRiLmNsb3NlKClcclxuICAgIH1cclxuICAgIHJlc3BvbnNlLmVuZChcIiA8L2JvZHk+XFxuXCIgK1xyXG4gICAgICBcIjwvaHRtbD5cXG5cIlxyXG4gICAgKTtcclxuICB9KTtcclxufSkubGlzdGVuKDMwMDApO1xyXG5jb25zb2xlLmxvZyhcIlNlcnZlciBpcyBydW5uaW5nXCIpO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFsQjs7QUFDQSxJQUFJQyxPQUFPLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJFLE9BQW5CLEVBQWQ7O0FBQ0EsSUFBSUMsRUFBRSxHQUFHLElBQUlGLE9BQU8sQ0FBQ0csUUFBWixDQUFxQixhQUFyQixDQUFUO0FBRUFELEVBQUUsQ0FBQ0UsR0FBSCxDQUFPLDBHQUFQLEVBQW1ILFVBQVNDLEdBQVQsRUFBYTtFQUM5SCxJQUFJQSxHQUFKLEVBQVM7SUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVo7RUFDRCxDQUZELE1BR0s7SUFDSCxJQUFJQyxLQUFLLEdBQUdOLEVBQUUsQ0FBQ08sT0FBSCxDQUFXLDZFQUFYLEVBQTBGLFVBQVNKLEdBQVQsRUFBYTtNQUNqSCxJQUFJQSxHQUFKLEVBQVM7UUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVo7TUFDRCxDQUZELE1BR0s7UUFDSEMsS0FBSyxDQUFDSixHQUFOLENBQVUsV0FBVixFQUF1QixHQUF2QixFQUE0QixJQUE1QixFQUFpQyxPQUFqQztRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxLQUFWLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCLEVBQXlCLE9BQXpCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFNBQVYsRUFBcUIsR0FBckIsRUFBMEIsSUFBMUIsRUFBK0IsT0FBL0I7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsUUFBVixFQUFvQixDQUFwQixFQUF1QixJQUF2QixFQUE0QixRQUE1QjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxPQUFWLEVBQW1CLENBQW5CLEVBQXNCLElBQXRCLEVBQTJCLFFBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFFBQVYsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBdkIsRUFBNEIsU0FBNUI7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsS0FBVixFQUFpQixDQUFqQixFQUFvQixJQUFwQixFQUF5QixTQUF6QjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxNQUFWLEVBQWtCLEdBQWxCLEVBQXVCLEdBQXZCLEVBQTJCLFVBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFFBQVYsRUFBb0IsR0FBcEIsRUFBeUIsSUFBekIsRUFBOEIsb0JBQTlCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFFBQVYsRUFBb0IsQ0FBcEIsRUFBdUIsR0FBdkIsRUFBMkIsb0JBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLE1BQVYsRUFBa0IsRUFBbEIsRUFBc0IsSUFBdEIsRUFBMkIsa0NBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLGFBQVYsRUFBeUIsR0FBekIsRUFBOEIsSUFBOUIsRUFBbUMsa0NBQW5DO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLEtBQVYsRUFBaUIsR0FBakIsRUFBc0IsSUFBdEIsRUFBMkIsb0JBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLE9BQVYsRUFBbUIsQ0FBbkIsRUFBc0IsSUFBdEIsRUFBMkIsU0FBM0I7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsZUFBVixFQUEyQixHQUEzQixFQUFnQyxJQUFoQyxFQUFxQyxTQUFyQztRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxTQUFWLEVBQXFCLEdBQXJCLEVBQTBCLElBQTFCLEVBQStCLG9CQUEvQjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxNQUFWLEVBQWtCLEdBQWxCLEVBQXVCLElBQXZCLEVBQTRCLFNBQTVCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLGNBQVYsRUFBMEIsQ0FBMUIsRUFBNkIsR0FBN0IsRUFBaUMsU0FBakM7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsYUFBVixFQUF5QixHQUF6QixFQUE4QixJQUE5QixFQUFtQyxrQ0FBbkM7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsTUFBVixFQUFrQixDQUFsQixFQUFxQixJQUFyQixFQUEwQixTQUExQjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxpQkFBVixFQUE2QixHQUE3QixFQUFrQyxJQUFsQyxFQUF1QyxvQkFBdkM7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsWUFBVixFQUF3QixHQUF4QixFQUE2QixJQUE3QixFQUFrQyxPQUFsQztRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxTQUFWLEVBQXFCLEdBQXJCLEVBQTBCLElBQTFCLEVBQStCLGtDQUEvQjtRQUNBSSxLQUFLLENBQUNFLFFBQU47TUFDRDtJQUNGLENBOUJXLENBQVo7RUErQkQ7QUFDRixDQXJDRDtBQXVDQVosSUFBSSxDQUFDYSxZQUFMLENBQWtCLFVBQVVDLE9BQVYsRUFBbUJDLFFBQW5CLEVBQTRCO0VBQzVDQSxRQUFRLENBQUNDLFNBQVQsQ0FBbUIsR0FBbkIsRUFBd0I7SUFBQyxnQkFBZ0I7RUFBakIsQ0FBeEI7RUFDQUQsUUFBUSxDQUFDRSxLQUFULENBQWUsc0JBQ2IsVUFEYSxHQUViLFdBRmEsR0FHYiwyQkFIYSxHQUliLFlBSmEsR0FLYixXQUxGO0VBT0FiLEVBQUUsQ0FBQ2MsR0FBSCxDQUFPLHdCQUFQLEVBQWlDLFVBQVNYLEdBQVQsRUFBY1ksSUFBZCxFQUFtQjtJQUNsRCxJQUFJWixHQUFKLEVBQVM7TUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVkseUJBQVo7SUFDRCxDQUZELE1BR0s7TUFDSCxLQUFLLElBQUlXLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdELElBQUksQ0FBQ0UsTUFBekIsRUFBaUNELENBQUMsRUFBbEMsRUFBc0M7UUFDcEMsSUFBSUUsR0FBRyxHQUFHSCxJQUFJLENBQUNDLENBQUQsQ0FBZDtRQUNBTCxRQUFRLENBQUNFLEtBQVQsQ0FBZUssR0FBRyxDQUFDQyxFQUFKLEdBQVMsR0FBVCxHQUFlRCxHQUFHLENBQUNFLElBQW5CLEdBQTBCLEdBQTFCLEdBQWdDRixHQUFHLENBQUNHLEtBQXBDLEdBQTRDLEdBQTVDLEdBQWtESCxHQUFHLENBQUNJLEtBQXRELEdBQThELEdBQTlELEdBQW9FSixHQUFHLENBQUNLLElBQXhFLEdBQStFLE1BQTlGO01BQ0Q7O01BQ0R2QixFQUFFLENBQUN3QixLQUFIO0lBQ0Q7O0lBQ0RiLFFBQVEsQ0FBQ2MsR0FBVCxDQUFhLGVBQ1gsV0FERjtFQUdELENBZEQ7QUFlRCxDQXhCRCxFQXdCR0MsTUF4QkgsQ0F3QlUsSUF4QlY7QUF5QkF0QixPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBWiJ9","map":{"version":3,"names":["http","require","sqlite3","verbose","db","Database","run","err","console","log","stmnt","prepare","finalize","createServer","request","response","writeHead","write","all","rows","i","length","row","id","name","count","units","type","close","end","listen"],"sourceRoot":"C:\\Users\\dasha\\github\\database\\src\\laba5\\","sources":["laba5.js"],"sourcesContent":["var http = require(\"http\");\r\nvar sqlite3 = require(\"sqlite3\").verbose()\r\nvar db = new sqlite3.Database(\"products.db\")\r\n\r\ndb.run(\"CREATE TABLE Products (id integer primary key, name char(40), count float, units char(5), type char(50))\", function(err){\r\n  if (err) {\r\n    console.log(\"Can't create table\")\r\n  }\r\n  else {\r\n    var stmnt = db.prepare(\"INSERT INTO Products (name, count, units, type) values ((?), (?), (?), (?))\", function(err){\r\n      if (err) {\r\n        console.log(\"Can't insert to table\")\r\n      }\r\n      else {\r\n        stmnt.run(\"картофель\", 1.5, \"кг\",\"овощи\");\r\n        stmnt.run(\"лук\", 1, \"кг\",\"овощи\");\r\n        stmnt.run(\"капуста\", 0.7, \"кг\",\"овощи\");\r\n        stmnt.run(\"яблоко\", 5, \"шт\",\"фрукты\");\r\n        stmnt.run(\"банан\", 3, \"шт\",\"фрукты\");\r\n        stmnt.run(\"гречка\", 1, \"кг\",\"бакалея\");\r\n        stmnt.run(\"рис\", 1, \"кг\",\"бакалея\");\r\n        stmnt.run(\"пиво\", 0.5, \"л\",\"алкоголь\");\r\n        stmnt.run(\"творог\", 0.4, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"молоко\", 1, \"л\",\"молочная продукция\");\r\n        stmnt.run(\"яйца\", 10, \"шт\",\"продукты животного происхождения\");\r\n        stmnt.run(\"филе курицы\", 0.9, \"кг\",\"продукты животного происхождения\");\r\n        stmnt.run(\"сыр\", 0.5, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"сахар\", 3, \"кг\",\"бакалея\");\r\n        stmnt.run(\"какао-порошок\", 0.3, \"кг\",\"бакалея\");\r\n        stmnt.run(\"сметана\", 0.2, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"вода\", 1.5, \"кг\",\"напитки\");\r\n        stmnt.run(\"яблочный сок\", 1, \"л\",\"напитки\");\r\n        stmnt.run(\"свиной фарш\", 2.2, \"кг\",\"продукты животного происхождения\");\r\n        stmnt.run(\"мука\", 1, \"кг\",\"бакалея\");\r\n        stmnt.run(\"сливочное масло\", 0.4, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"шампиньоны\", 0.7, \"кг\",\"овощи\");\r\n        stmnt.run(\"колбаса\", 0.6, \"кг\",\"продукты животного происхождения\");\r\n        stmnt.finalize();\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nhttp.createServer(function (request, response){\r\n  response.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n  response.write(\"<!DOCTYPE html>\\n\" +\r\n    \"<html>\\n\" +\r\n    \" <head>\\n\" +\r\n    \" <meta charset='utf-8'>\\n\" +\r\n    \" </head>\\n\" +\r\n    \" <body>\\n\"\r\n  );\r\n  db.all(\"SELECT * FROM Products\", function(err, rows){\r\n    if (err) {\r\n      console.log(\"Can't select from table\")\r\n    }\r\n    else {\r\n      for (var i = 0; i < rows.length; i++) {\r\n        var row = rows[i];\r\n        response.write(row.id + \" \" + row.name + \" \" + row.count + \" \" + row.units + \" \" + row.type + \"<br>\");\r\n      }\r\n      db.close()\r\n    }\r\n    response.end(\" </body>\\n\" +\r\n      \"</html>\\n\"\r\n    );\r\n  });\r\n}).listen(3000);\r\nconsole.log(\"Server is running\");\r\n"],"mappings":"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"}},"mtime":1668277700018},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba6\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"filename\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba6\\\\laba6.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.3:production":{"value":{"code":"\"use strict\";\n\nvar http = require(\"http\");\n\nvar sqlite3 = require(\"sqlite3\").verbose();\n\nvar fs = require(\"fs\");\n\nvar db = new sqlite3.Database(\"products.db\");\nhttp.createServer(function (req, res) {\n  var str = req.url.split(\"-\");\n  str[1] = decodeURIComponent(str[1]);\n  console.log(\"request: \" + str[0]);\n\n  switch (str[0]) {\n    case \"/\":\n      fs.readFile(\"./src/laba6/index.html\", function (err, content) {\n        if (err) {\n          res.writeHead(500, {\n            \"Content-Type\": \"text/html; charset=utf-8\"\n          });\n          res.end(err.message, \"utf-8\");\n          console.log(err);\n        } else {\n          res.writeHead(200, {\n            \"Content-Type\": \"text/html; charset=utf-8\"\n          });\n          res.end(content, \"utf-8\");\n        }\n      });\n      break;\n\n    case \"/search\":\n      res.writeHead(200, {\n        \"Content-Type\": \"text/html; charset=utf-8\"\n      });\n      var stmnt = db.prepare(\"SELECT * FROM Products WHERE id=(?) or name=(?) or count=(?) or units=(?) or type=(?)\");\n      stmnt.all(str[1], str[1], str[1], str[1], str[1], function (err, rows) {\n        if (err) {\n          console.log(\"Can't select from table\");\n        } else {\n          console.log(rows);\n          var obj_str = JSON.stringify(rows);\n          res.end(obj_str);\n        }\n      });\n      stmnt.finalize();\n      break;\n\n    default:\n      res.writeHead(404, {\n        \"Content-Type\": \"text/html; charset=utf-8\"\n      });\n      res.write(\"<!DOCTYPE html>\\n\" + \"<html>\\n\" + \" <head>\\n\" + \" <meta charset='utf-8'>\\n\" + \" </head>\\n\" + \" <body>\\n\");\n      res.write(\"404, Not Found: \" + str[0]);\n      res.end(\" </body>\\n\" + \"</html>\\n\");\n      break;\n  }\n}).listen(3000);\nconsole.log(\"Server is running\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwIiwicmVxdWlyZSIsInNxbGl0ZTMiLCJ2ZXJib3NlIiwiZnMiLCJkYiIsIkRhdGFiYXNlIiwiY3JlYXRlU2VydmVyIiwicmVxIiwicmVzIiwic3RyIiwidXJsIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb25zb2xlIiwibG9nIiwicmVhZEZpbGUiLCJlcnIiLCJjb250ZW50Iiwid3JpdGVIZWFkIiwiZW5kIiwibWVzc2FnZSIsInN0bW50IiwicHJlcGFyZSIsImFsbCIsInJvd3MiLCJvYmpfc3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsImZpbmFsaXplIiwid3JpdGUiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZGFzaGFcXGdpdGh1YlxcZGF0YWJhc2VcXHNyY1xcbGFiYTZcXCIsInNvdXJjZXMiOlsibGFiYTYuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcclxudmFyIHNxbGl0ZTMgPSByZXF1aXJlKFwic3FsaXRlM1wiKS52ZXJib3NlKClcclxudmFyIGZzID0gcmVxdWlyZShcImZzXCIpXHJcbnZhciBkYiA9IG5ldyBzcWxpdGUzLkRhdGFiYXNlKFwicHJvZHVjdHMuZGJcIilcclxuXHJcbmh0dHAuY3JlYXRlU2VydmVyKGZ1bmN0aW9uIChyZXEsIHJlcyl7XHJcbiAgdmFyIHN0ciA9IHJlcS51cmwuc3BsaXQoXCItXCIpO1xyXG4gIHN0clsxXSA9IGRlY29kZVVSSUNvbXBvbmVudChzdHJbMV0pO1xyXG4gIGNvbnNvbGUubG9nKFwicmVxdWVzdDogXCIgKyBzdHJbMF0pO1xyXG4gIHN3aXRjaChzdHJbMF0pIHtcclxuICAgIGNhc2UgXCIvXCI6XHJcbiAgICAgIGZzLnJlYWRGaWxlKFwiLi9zcmMvbGFiYTYvaW5kZXguaHRtbFwiLCBmdW5jdGlvbihlcnIsIGNvbnRlbnQpe1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIHJlcy53cml0ZUhlYWQoNTAwLCB7XCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLThcIn0pO1xyXG4gICAgICAgICAgcmVzLmVuZChlcnIubWVzc2FnZSwgXCJ1dGYtOFwiKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmVzLndyaXRlSGVhZCgyMDAsIHtcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwifSk7XHJcbiAgICAgICAgICByZXMuZW5kKGNvbnRlbnQsIFwidXRmLThcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiL3NlYXJjaFwiOlxyXG4gICAgICByZXMud3JpdGVIZWFkKDIwMCwge1wiQ29udGVudC1UeXBlXCI6IFwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCJ9KTtcclxuICAgICAgdmFyIHN0bW50ID0gZGIucHJlcGFyZShcIlNFTEVDVCAqIEZST00gUHJvZHVjdHMgV0hFUkUgaWQ9KD8pIG9yIG5hbWU9KD8pIG9yIGNvdW50PSg/KSBvciB1bml0cz0oPykgb3IgdHlwZT0oPylcIik7XHJcbiAgICAgIHN0bW50LmFsbChzdHJbMV0sIHN0clsxXSwgc3RyWzFdLCBzdHJbMV0sIHN0clsxXSwgZnVuY3Rpb24oZXJyLCByb3dzKSB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJDYW4ndCBzZWxlY3QgZnJvbSB0YWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyb3dzKTtcclxuICAgICAgICAgIHZhciBvYmpfc3RyID0gSlNPTi5zdHJpbmdpZnkocm93cyk7XHJcbiAgICAgIFx0XHRyZXMuZW5kKG9ial9zdHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHN0bW50LmZpbmFsaXplKCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmVzLndyaXRlSGVhZCg0MDQsIHtcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwifSk7XHJcbiAgICAgIHJlcy53cml0ZShcIjwhRE9DVFlQRSBodG1sPlxcblwiICtcclxuICAgICAgICBcIjxodG1sPlxcblwiICtcclxuICAgICAgICBcIiA8aGVhZD5cXG5cIiArXHJcbiAgICAgICAgXCIgPG1ldGEgY2hhcnNldD0ndXRmLTgnPlxcblwiICtcclxuICAgICAgICBcIiA8L2hlYWQ+XFxuXCIgK1xyXG4gICAgICAgIFwiIDxib2R5PlxcblwiXHJcbiAgICAgICk7XHJcbiAgICAgIHJlcy53cml0ZShcIjQwNCwgTm90IEZvdW5kOiBcIiArIHN0clswXSk7XHJcbiAgICAgIHJlcy5lbmQoXCIgPC9ib2R5PlxcblwiICtcclxuICAgICAgICBcIjwvaHRtbD5cXG5cIlxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn0pLmxpc3RlbigzMDAwKTtcclxuY29uc29sZS5sb2coXCJTZXJ2ZXIgaXMgcnVubmluZ1wiKTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBbEI7O0FBQ0EsSUFBSUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CRSxPQUFuQixFQUFkOztBQUNBLElBQUlDLEVBQUUsR0FBR0gsT0FBTyxDQUFDLElBQUQsQ0FBaEI7O0FBQ0EsSUFBSUksRUFBRSxHQUFHLElBQUlILE9BQU8sQ0FBQ0ksUUFBWixDQUFxQixhQUFyQixDQUFUO0FBRUFOLElBQUksQ0FBQ08sWUFBTCxDQUFrQixVQUFVQyxHQUFWLEVBQWVDLEdBQWYsRUFBbUI7RUFDbkMsSUFBSUMsR0FBRyxHQUFHRixHQUFHLENBQUNHLEdBQUosQ0FBUUMsS0FBUixDQUFjLEdBQWQsQ0FBVjtFQUNBRixHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNHLGtCQUFrQixDQUFDSCxHQUFHLENBQUMsQ0FBRCxDQUFKLENBQTNCO0VBQ0FJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQWNMLEdBQUcsQ0FBQyxDQUFELENBQTdCOztFQUNBLFFBQU9BLEdBQUcsQ0FBQyxDQUFELENBQVY7SUFDRSxLQUFLLEdBQUw7TUFDRU4sRUFBRSxDQUFDWSxRQUFILENBQVksd0JBQVosRUFBc0MsVUFBU0MsR0FBVCxFQUFjQyxPQUFkLEVBQXNCO1FBQzFELElBQUlELEdBQUosRUFBUztVQUNQUixHQUFHLENBQUNVLFNBQUosQ0FBYyxHQUFkLEVBQW1CO1lBQUMsZ0JBQWdCO1VBQWpCLENBQW5CO1VBQ0FWLEdBQUcsQ0FBQ1csR0FBSixDQUFRSCxHQUFHLENBQUNJLE9BQVosRUFBcUIsT0FBckI7VUFDQVAsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEdBQVo7UUFDRCxDQUpELE1BS0s7VUFDSFIsR0FBRyxDQUFDVSxTQUFKLENBQWMsR0FBZCxFQUFtQjtZQUFDLGdCQUFnQjtVQUFqQixDQUFuQjtVQUNBVixHQUFHLENBQUNXLEdBQUosQ0FBUUYsT0FBUixFQUFpQixPQUFqQjtRQUNEO01BQ0YsQ0FWRDtNQVdBOztJQUNGLEtBQUssU0FBTDtNQUNFVCxHQUFHLENBQUNVLFNBQUosQ0FBYyxHQUFkLEVBQW1CO1FBQUMsZ0JBQWdCO01BQWpCLENBQW5CO01BQ0EsSUFBSUcsS0FBSyxHQUFHakIsRUFBRSxDQUFDa0IsT0FBSCxDQUFXLHVGQUFYLENBQVo7TUFDQUQsS0FBSyxDQUFDRSxHQUFOLENBQVVkLEdBQUcsQ0FBQyxDQUFELENBQWIsRUFBa0JBLEdBQUcsQ0FBQyxDQUFELENBQXJCLEVBQTBCQSxHQUFHLENBQUMsQ0FBRCxDQUE3QixFQUFrQ0EsR0FBRyxDQUFDLENBQUQsQ0FBckMsRUFBMENBLEdBQUcsQ0FBQyxDQUFELENBQTdDLEVBQWtELFVBQVNPLEdBQVQsRUFBY1EsSUFBZCxFQUFvQjtRQUNwRSxJQUFJUixHQUFKLEVBQVM7VUFDUEgsT0FBTyxDQUFDQyxHQUFSLENBQVkseUJBQVo7UUFDRCxDQUZELE1BR0s7VUFDSEQsT0FBTyxDQUFDQyxHQUFSLENBQVlVLElBQVo7VUFDQSxJQUFJQyxPQUFPLEdBQUdDLElBQUksQ0FBQ0MsU0FBTCxDQUFlSCxJQUFmLENBQWQ7VUFDRmhCLEdBQUcsQ0FBQ1csR0FBSixDQUFRTSxPQUFSO1FBQ0M7TUFDRixDQVREO01BVUFKLEtBQUssQ0FBQ08sUUFBTjtNQUNBOztJQUNGO01BQ0VwQixHQUFHLENBQUNVLFNBQUosQ0FBYyxHQUFkLEVBQW1CO1FBQUMsZ0JBQWdCO01BQWpCLENBQW5CO01BQ0FWLEdBQUcsQ0FBQ3FCLEtBQUosQ0FBVSxzQkFDUixVQURRLEdBRVIsV0FGUSxHQUdSLDJCQUhRLEdBSVIsWUFKUSxHQUtSLFdBTEY7TUFPQXJCLEdBQUcsQ0FBQ3FCLEtBQUosQ0FBVSxxQkFBcUJwQixHQUFHLENBQUMsQ0FBRCxDQUFsQztNQUNBRCxHQUFHLENBQUNXLEdBQUosQ0FBUSxlQUNOLFdBREY7TUFHQTtFQTFDSjtBQTRDRCxDQWhERCxFQWdER1csTUFoREgsQ0FnRFUsSUFoRFY7QUFpREFqQixPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBWiJ9","map":{"version":3,"names":["http","require","sqlite3","verbose","fs","db","Database","createServer","req","res","str","url","split","decodeURIComponent","console","log","readFile","err","content","writeHead","end","message","stmnt","prepare","all","rows","obj_str","JSON","stringify","finalize","write","listen"],"sourceRoot":"C:\\Users\\dasha\\github\\database\\src\\laba6\\","sources":["laba6.js"],"sourcesContent":["var http = require(\"http\");\r\nvar sqlite3 = require(\"sqlite3\").verbose()\r\nvar fs = require(\"fs\")\r\nvar db = new sqlite3.Database(\"products.db\")\r\n\r\nhttp.createServer(function (req, res){\r\n  var str = req.url.split(\"-\");\r\n  str[1] = decodeURIComponent(str[1]);\r\n  console.log(\"request: \" + str[0]);\r\n  switch(str[0]) {\r\n    case \"/\":\r\n      fs.readFile(\"./src/laba6/index.html\", function(err, content){\r\n        if (err) {\r\n          res.writeHead(500, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n          res.end(err.message, \"utf-8\");\r\n          console.log(err);\r\n        }\r\n        else {\r\n          res.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n          res.end(content, \"utf-8\");\r\n        }\r\n      });\r\n      break;\r\n    case \"/search\":\r\n      res.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n      var stmnt = db.prepare(\"SELECT * FROM Products WHERE id=(?) or name=(?) or count=(?) or units=(?) or type=(?)\");\r\n      stmnt.all(str[1], str[1], str[1], str[1], str[1], function(err, rows) {\r\n        if (err) {\r\n          console.log(\"Can't select from table\");\r\n        }\r\n        else {\r\n          console.log(rows);\r\n          var obj_str = JSON.stringify(rows);\r\n      \t\tres.end(obj_str);\r\n        }\r\n      });\r\n      stmnt.finalize();\r\n      break;\r\n    default:\r\n      res.writeHead(404, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n      res.write(\"<!DOCTYPE html>\\n\" +\r\n        \"<html>\\n\" +\r\n        \" <head>\\n\" +\r\n        \" <meta charset='utf-8'>\\n\" +\r\n        \" </head>\\n\" +\r\n        \" <body>\\n\"\r\n      );\r\n      res.write(\"404, Not Found: \" + str[0]);\r\n      res.end(\" </body>\\n\" +\r\n        \"</html>\\n\"\r\n      );\r\n      break;\r\n  }\r\n}).listen(3000);\r\nconsole.log(\"Server is running\");\r\n"],"mappings":";;AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAP,CAAmBE,OAAnB,EAAd;;AACA,IAAIC,EAAE,GAAGH,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAII,EAAE,GAAG,IAAIH,OAAO,CAACI,QAAZ,CAAqB,aAArB,CAAT;AAEAN,IAAI,CAACO,YAAL,CAAkB,UAAUC,GAAV,EAAeC,GAAf,EAAmB;EACnC,IAAIC,GAAG,GAAGF,GAAG,CAACG,GAAJ,CAAQC,KAAR,CAAc,GAAd,CAAV;EACAF,GAAG,CAAC,CAAD,CAAH,GAASG,kBAAkB,CAACH,GAAG,CAAC,CAAD,CAAJ,CAA3B;EACAI,OAAO,CAACC,GAAR,CAAY,cAAcL,GAAG,CAAC,CAAD,CAA7B;;EACA,QAAOA,GAAG,CAAC,CAAD,CAAV;IACE,KAAK,GAAL;MACEN,EAAE,CAACY,QAAH,CAAY,wBAAZ,EAAsC,UAASC,GAAT,EAAcC,OAAd,EAAsB;QAC1D,IAAID,GAAJ,EAAS;UACPR,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;YAAC,gBAAgB;UAAjB,CAAnB;UACAV,GAAG,CAACW,GAAJ,CAAQH,GAAG,CAACI,OAAZ,EAAqB,OAArB;UACAP,OAAO,CAACC,GAAR,CAAYE,GAAZ;QACD,CAJD,MAKK;UACHR,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;YAAC,gBAAgB;UAAjB,CAAnB;UACAV,GAAG,CAACW,GAAJ,CAAQF,OAAR,EAAiB,OAAjB;QACD;MACF,CAVD;MAWA;;IACF,KAAK,SAAL;MACET,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;QAAC,gBAAgB;MAAjB,CAAnB;MACA,IAAIG,KAAK,GAAGjB,EAAE,CAACkB,OAAH,CAAW,uFAAX,CAAZ;MACAD,KAAK,CAACE,GAAN,CAAUd,GAAG,CAAC,CAAD,CAAb,EAAkBA,GAAG,CAAC,CAAD,CAArB,EAA0BA,GAAG,CAAC,CAAD,CAA7B,EAAkCA,GAAG,CAAC,CAAD,CAArC,EAA0CA,GAAG,CAAC,CAAD,CAA7C,EAAkD,UAASO,GAAT,EAAcQ,IAAd,EAAoB;QACpE,IAAIR,GAAJ,EAAS;UACPH,OAAO,CAACC,GAAR,CAAY,yBAAZ;QACD,CAFD,MAGK;UACHD,OAAO,CAACC,GAAR,CAAYU,IAAZ;UACA,IAAIC,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAd;UACFhB,GAAG,CAACW,GAAJ,CAAQM,OAAR;QACC;MACF,CATD;MAUAJ,KAAK,CAACO,QAAN;MACA;;IACF;MACEpB,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;QAAC,gBAAgB;MAAjB,CAAnB;MACAV,GAAG,CAACqB,KAAJ,CAAU,sBACR,UADQ,GAER,WAFQ,GAGR,2BAHQ,GAIR,YAJQ,GAKR,WALF;MAOArB,GAAG,CAACqB,KAAJ,CAAU,qBAAqBpB,GAAG,CAAC,CAAD,CAAlC;MACAD,GAAG,CAACW,GAAJ,CAAQ,eACN,WADF;MAGA;EA1CJ;AA4CD,CAhDD,EAgDGW,MAhDH,CAgDU,IAhDV;AAiDAjB,OAAO,CAACC,GAAR,CAAY,mBAAZ"}},"mtime":1668277700022},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba6\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"filename\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba6\\\\create_table_laba6.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.3:production":{"value":{"code":"\"use strict\";\n\nvar sqlite3 = require(\"sqlite3\").verbose();\n\nvar db = new sqlite3.Database(\"products.db\");\ndb.run(\"CREATE TABLE Products (id integer primary key, name char(40), count float, units char(5), type char(50))\", function (err) {\n  if (err) {\n    console.log(\"Can't create table\");\n  } else {\n    var stmnt = db.prepare(\"INSERT INTO Products (name, count, units, type) values ((?), (?), (?), (?))\", function (err) {\n      if (err) {\n        console.log(\"Can't insert to table\");\n      } else {\n        stmnt.run(\"картофель\", 1.5, \"кг\", \"овощи\");\n        stmnt.run(\"лук\", 1, \"кг\", \"овощи\");\n        stmnt.run(\"капуста\", 0.7, \"кг\", \"овощи\");\n        stmnt.run(\"яблоко\", 5, \"шт\", \"фрукты\");\n        stmnt.run(\"банан\", 3, \"шт\", \"фрукты\");\n        stmnt.run(\"гречка\", 1, \"кг\", \"бакалея\");\n        stmnt.run(\"рис\", 1, \"кг\", \"бакалея\");\n        stmnt.run(\"пиво\", 0.5, \"л\", \"алкоголь\");\n        stmnt.run(\"творог\", 0.4, \"кг\", \"молочная продукция\");\n        stmnt.run(\"молоко\", 1, \"л\", \"молочная продукция\");\n        stmnt.run(\"яйца\", 10, \"шт\", \"продукты животного происхождения\");\n        stmnt.run(\"филе курицы\", 0.9, \"кг\", \"продукты животного происхождения\");\n        stmnt.run(\"сыр\", 0.5, \"кг\", \"молочная продукция\");\n        stmnt.run(\"сахар\", 3, \"кг\", \"бакалея\");\n        stmnt.run(\"какао-порошок\", 0.3, \"кг\", \"бакалея\");\n        stmnt.run(\"сметана\", 0.2, \"кг\", \"молочная продукция\");\n        stmnt.run(\"вода\", 1.5, \"кг\", \"напитки\");\n        stmnt.run(\"яблочный сок\", 1, \"л\", \"напитки\");\n        stmnt.run(\"свиной фарш\", 2.2, \"кг\", \"продукты животного происхождения\");\n        stmnt.run(\"мука\", 1, \"кг\", \"бакалея\");\n        stmnt.run(\"сливочное масло\", 0.4, \"кг\", \"молочная продукция\");\n        stmnt.run(\"шампиньоны\", 0.7, \"кг\", \"овощи\");\n        stmnt.run(\"колбаса\", 0.6, \"кг\", \"продукты животного происхождения\");\n        stmnt.finalize();\n      }\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzcWxpdGUzIiwicmVxdWlyZSIsInZlcmJvc2UiLCJkYiIsIkRhdGFiYXNlIiwicnVuIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInN0bW50IiwicHJlcGFyZSIsImZpbmFsaXplIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGRhc2hhXFxnaXRodWJcXGRhdGFiYXNlXFxzcmNcXGxhYmE2XFwiLCJzb3VyY2VzIjpbImNyZWF0ZV90YWJsZV9sYWJhNi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3FsaXRlMyA9IHJlcXVpcmUoXCJzcWxpdGUzXCIpLnZlcmJvc2UoKVxyXG52YXIgZGIgPSBuZXcgc3FsaXRlMy5EYXRhYmFzZShcInByb2R1Y3RzLmRiXCIpXHJcblxyXG5kYi5ydW4oXCJDUkVBVEUgVEFCTEUgUHJvZHVjdHMgKGlkIGludGVnZXIgcHJpbWFyeSBrZXksIG5hbWUgY2hhcig0MCksIGNvdW50IGZsb2F0LCB1bml0cyBjaGFyKDUpLCB0eXBlIGNoYXIoNTApKVwiLCBmdW5jdGlvbihlcnIpe1xyXG4gIGlmIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiQ2FuJ3QgY3JlYXRlIHRhYmxlXCIpXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgdmFyIHN0bW50ID0gZGIucHJlcGFyZShcIklOU0VSVCBJTlRPIFByb2R1Y3RzIChuYW1lLCBjb3VudCwgdW5pdHMsIHR5cGUpIHZhbHVlcyAoKD8pLCAoPyksICg/KSwgKD8pKVwiLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDYW4ndCBpbnNlcnQgdG8gdGFibGVcIilcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBzdG1udC5ydW4oXCLQutCw0YDRgtC+0YTQtdC70YxcIiwgMS41LCBcItC60LNcIixcItC+0LLQvtGJ0LhcIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0LvRg9C6XCIsIDEsIFwi0LrQs1wiLFwi0L7QstC+0YnQuFwiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQutCw0L/Rg9GB0YLQsFwiLCAwLjcsIFwi0LrQs1wiLFwi0L7QstC+0YnQuFwiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRj9Cx0LvQvtC60L5cIiwgNSwgXCLRiNGCXCIsXCLRhNGA0YPQutGC0YtcIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0LHQsNC90LDQvVwiLCAzLCBcItGI0YJcIixcItGE0YDRg9C60YLRi1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQs9GA0LXRh9C60LBcIiwgMSwgXCLQutCzXCIsXCLQsdCw0LrQsNC70LXRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRgNC40YFcIiwgMSwgXCLQutCzXCIsXCLQsdCw0LrQsNC70LXRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQv9C40LLQvlwiLCAwLjUsIFwi0LtcIixcItCw0LvQutC+0LPQvtC70YxcIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0YLQstC+0YDQvtCzXCIsIDAuNCwgXCLQutCzXCIsXCLQvNC+0LvQvtGH0L3QsNGPINC/0YDQvtC00YPQutGG0LjRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQvNC+0LvQvtC60L5cIiwgMSwgXCLQu1wiLFwi0LzQvtC70L7Rh9C90LDRjyDQv9GA0L7QtNGD0LrRhtC40Y9cIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0Y/QudGG0LBcIiwgMTAsIFwi0YjRglwiLFwi0L/RgNC+0LTRg9C60YLRiyDQttC40LLQvtGC0L3QvtCz0L4g0L/RgNC+0LjRgdGF0L7QttC00LXQvdC40Y9cIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0YTQuNC70LUg0LrRg9GA0LjRhtGLXCIsIDAuOSwgXCLQutCzXCIsXCLQv9GA0L7QtNGD0LrRgtGLINC20LjQstC+0YLQvdC+0LPQviDQv9GA0L7QuNGB0YXQvtC20LTQtdC90LjRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRgdGL0YBcIiwgMC41LCBcItC60LNcIixcItC80L7Qu9C+0YfQvdCw0Y8g0L/RgNC+0LTRg9C60YbQuNGPXCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGB0LDRhdCw0YBcIiwgMywgXCLQutCzXCIsXCLQsdCw0LrQsNC70LXRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLQutCw0LrQsNC+LdC/0L7RgNC+0YjQvtC6XCIsIDAuMywgXCLQutCzXCIsXCLQsdCw0LrQsNC70LXRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRgdC80LXRgtCw0L3QsFwiLCAwLjIsIFwi0LrQs1wiLFwi0LzQvtC70L7Rh9C90LDRjyDQv9GA0L7QtNGD0LrRhtC40Y9cIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0LLQvtC00LBcIiwgMS41LCBcItC60LNcIixcItC90LDQv9C40YLQutC4XCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGP0LHQu9C+0YfQvdGL0Lkg0YHQvtC6XCIsIDEsIFwi0LtcIixcItC90LDQv9C40YLQutC4XCIpO1xyXG4gICAgICAgIHN0bW50LnJ1bihcItGB0LLQuNC90L7QuSDRhNCw0YDRiFwiLCAyLjIsIFwi0LrQs1wiLFwi0L/RgNC+0LTRg9C60YLRiyDQttC40LLQvtGC0L3QvtCz0L4g0L/RgNC+0LjRgdGF0L7QttC00LXQvdC40Y9cIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0LzRg9C60LBcIiwgMSwgXCLQutCzXCIsXCLQsdCw0LrQsNC70LXRj1wiKTtcclxuICAgICAgICBzdG1udC5ydW4oXCLRgdC70LjQstC+0YfQvdC+0LUg0LzQsNGB0LvQvlwiLCAwLjQsIFwi0LrQs1wiLFwi0LzQvtC70L7Rh9C90LDRjyDQv9GA0L7QtNGD0LrRhtC40Y9cIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0YjQsNC80L/QuNC90YzQvtC90YtcIiwgMC43LCBcItC60LNcIixcItC+0LLQvtGJ0LhcIik7XHJcbiAgICAgICAgc3RtbnQucnVuKFwi0LrQvtC70LHQsNGB0LBcIiwgMC42LCBcItC60LNcIixcItC/0YDQvtC00YPQutGC0Ysg0LbQuNCy0L7RgtC90L7Qs9C+INC/0YDQvtC40YHRhdC+0LbQtNC10L3QuNGPXCIpO1xyXG4gICAgICAgIHN0bW50LmZpbmFsaXplKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE9BQW5CLEVBQWQ7O0FBQ0EsSUFBSUMsRUFBRSxHQUFHLElBQUlILE9BQU8sQ0FBQ0ksUUFBWixDQUFxQixhQUFyQixDQUFUO0FBRUFELEVBQUUsQ0FBQ0UsR0FBSCxDQUFPLDBHQUFQLEVBQW1ILFVBQVNDLEdBQVQsRUFBYTtFQUM5SCxJQUFJQSxHQUFKLEVBQVM7SUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVo7RUFDRCxDQUZELE1BR0s7SUFDSCxJQUFJQyxLQUFLLEdBQUdOLEVBQUUsQ0FBQ08sT0FBSCxDQUFXLDZFQUFYLEVBQTBGLFVBQVNKLEdBQVQsRUFBYTtNQUNqSCxJQUFJQSxHQUFKLEVBQVM7UUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVo7TUFDRCxDQUZELE1BR0s7UUFDSEMsS0FBSyxDQUFDSixHQUFOLENBQVUsV0FBVixFQUF1QixHQUF2QixFQUE0QixJQUE1QixFQUFpQyxPQUFqQztRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxLQUFWLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCLEVBQXlCLE9BQXpCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFNBQVYsRUFBcUIsR0FBckIsRUFBMEIsSUFBMUIsRUFBK0IsT0FBL0I7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsUUFBVixFQUFvQixDQUFwQixFQUF1QixJQUF2QixFQUE0QixRQUE1QjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxPQUFWLEVBQW1CLENBQW5CLEVBQXNCLElBQXRCLEVBQTJCLFFBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFFBQVYsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBdkIsRUFBNEIsU0FBNUI7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsS0FBVixFQUFpQixDQUFqQixFQUFvQixJQUFwQixFQUF5QixTQUF6QjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxNQUFWLEVBQWtCLEdBQWxCLEVBQXVCLEdBQXZCLEVBQTJCLFVBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFFBQVYsRUFBb0IsR0FBcEIsRUFBeUIsSUFBekIsRUFBOEIsb0JBQTlCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLFFBQVYsRUFBb0IsQ0FBcEIsRUFBdUIsR0FBdkIsRUFBMkIsb0JBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLE1BQVYsRUFBa0IsRUFBbEIsRUFBc0IsSUFBdEIsRUFBMkIsa0NBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLGFBQVYsRUFBeUIsR0FBekIsRUFBOEIsSUFBOUIsRUFBbUMsa0NBQW5DO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLEtBQVYsRUFBaUIsR0FBakIsRUFBc0IsSUFBdEIsRUFBMkIsb0JBQTNCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLE9BQVYsRUFBbUIsQ0FBbkIsRUFBc0IsSUFBdEIsRUFBMkIsU0FBM0I7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsZUFBVixFQUEyQixHQUEzQixFQUFnQyxJQUFoQyxFQUFxQyxTQUFyQztRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxTQUFWLEVBQXFCLEdBQXJCLEVBQTBCLElBQTFCLEVBQStCLG9CQUEvQjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxNQUFWLEVBQWtCLEdBQWxCLEVBQXVCLElBQXZCLEVBQTRCLFNBQTVCO1FBQ0FJLEtBQUssQ0FBQ0osR0FBTixDQUFVLGNBQVYsRUFBMEIsQ0FBMUIsRUFBNkIsR0FBN0IsRUFBaUMsU0FBakM7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsYUFBVixFQUF5QixHQUF6QixFQUE4QixJQUE5QixFQUFtQyxrQ0FBbkM7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsTUFBVixFQUFrQixDQUFsQixFQUFxQixJQUFyQixFQUEwQixTQUExQjtRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxpQkFBVixFQUE2QixHQUE3QixFQUFrQyxJQUFsQyxFQUF1QyxvQkFBdkM7UUFDQUksS0FBSyxDQUFDSixHQUFOLENBQVUsWUFBVixFQUF3QixHQUF4QixFQUE2QixJQUE3QixFQUFrQyxPQUFsQztRQUNBSSxLQUFLLENBQUNKLEdBQU4sQ0FBVSxTQUFWLEVBQXFCLEdBQXJCLEVBQTBCLElBQTFCLEVBQStCLGtDQUEvQjtRQUNBSSxLQUFLLENBQUNFLFFBQU47TUFDRDtJQUNGLENBOUJXLENBQVo7RUErQkQ7QUFDRixDQXJDRCJ9","map":{"version":3,"names":["sqlite3","require","verbose","db","Database","run","err","console","log","stmnt","prepare","finalize"],"sourceRoot":"C:\\Users\\dasha\\github\\database\\src\\laba6\\","sources":["create_table_laba6.js"],"sourcesContent":["var sqlite3 = require(\"sqlite3\").verbose()\r\nvar db = new sqlite3.Database(\"products.db\")\r\n\r\ndb.run(\"CREATE TABLE Products (id integer primary key, name char(40), count float, units char(5), type char(50))\", function(err){\r\n  if (err) {\r\n    console.log(\"Can't create table\")\r\n  }\r\n  else {\r\n    var stmnt = db.prepare(\"INSERT INTO Products (name, count, units, type) values ((?), (?), (?), (?))\", function(err){\r\n      if (err) {\r\n        console.log(\"Can't insert to table\")\r\n      }\r\n      else {\r\n        stmnt.run(\"картофель\", 1.5, \"кг\",\"овощи\");\r\n        stmnt.run(\"лук\", 1, \"кг\",\"овощи\");\r\n        stmnt.run(\"капуста\", 0.7, \"кг\",\"овощи\");\r\n        stmnt.run(\"яблоко\", 5, \"шт\",\"фрукты\");\r\n        stmnt.run(\"банан\", 3, \"шт\",\"фрукты\");\r\n        stmnt.run(\"гречка\", 1, \"кг\",\"бакалея\");\r\n        stmnt.run(\"рис\", 1, \"кг\",\"бакалея\");\r\n        stmnt.run(\"пиво\", 0.5, \"л\",\"алкоголь\");\r\n        stmnt.run(\"творог\", 0.4, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"молоко\", 1, \"л\",\"молочная продукция\");\r\n        stmnt.run(\"яйца\", 10, \"шт\",\"продукты животного происхождения\");\r\n        stmnt.run(\"филе курицы\", 0.9, \"кг\",\"продукты животного происхождения\");\r\n        stmnt.run(\"сыр\", 0.5, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"сахар\", 3, \"кг\",\"бакалея\");\r\n        stmnt.run(\"какао-порошок\", 0.3, \"кг\",\"бакалея\");\r\n        stmnt.run(\"сметана\", 0.2, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"вода\", 1.5, \"кг\",\"напитки\");\r\n        stmnt.run(\"яблочный сок\", 1, \"л\",\"напитки\");\r\n        stmnt.run(\"свиной фарш\", 2.2, \"кг\",\"продукты животного происхождения\");\r\n        stmnt.run(\"мука\", 1, \"кг\",\"бакалея\");\r\n        stmnt.run(\"сливочное масло\", 0.4, \"кг\",\"молочная продукция\");\r\n        stmnt.run(\"шампиньоны\", 0.7, \"кг\",\"овощи\");\r\n        stmnt.run(\"колбаса\", 0.6, \"кг\",\"продукты животного происхождения\");\r\n        stmnt.finalize();\r\n      }\r\n    });\r\n  }\r\n});\r\n"],"mappings":"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"}},"mtime":1666338253739},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba7\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"filename\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba7\\\\create_table_laba7.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.3:production":{"value":{"code":"\"use strict\";\n\nvar mongodb = require(\"mongodb\");\n\nvar MongoClient = mongodb.MongoClient;\nvar url = \"mongodb://localhost:27017\";\nMongoClient.connect(url, function (err, client) {\n  if (err) {\n    console.log(\"Can't connect:\", err);\n  } else {\n    var db = client.db(\"products-db\");\n    var collection = db.collection(\"products\");\n    var products = [{\n      id: 1,\n      name: \"картофель\",\n      count: 1.5,\n      units: \"кг\",\n      type: \"овощи\"\n    }, {\n      id: 2,\n      name: \"лук\",\n      count: 1,\n      units: \"кг\",\n      type: \"овощи\"\n    }, {\n      id: 3,\n      name: \"капуста\",\n      count: 0.7,\n      units: \"кг\",\n      type: \"овощи\"\n    }, {\n      id: 4,\n      name: \"яблоко\",\n      count: 5,\n      units: \"шт\",\n      type: \"фрукты\"\n    }, {\n      id: 5,\n      name: \"банан\",\n      count: 3,\n      units: \"шт\",\n      type: \"фрукты\"\n    }, {\n      id: 6,\n      name: \"гречка\",\n      count: 1,\n      units: \"кг\",\n      type: \"бакалея\"\n    }, {\n      id: 7,\n      name: \"рис\",\n      count: 1,\n      units: \"кг\",\n      type: \"бакалея\"\n    }, {\n      id: 8,\n      name: \"пиво\",\n      count: 0.5,\n      units: \"л\",\n      type: \"алкоголь\"\n    }, {\n      id: 9,\n      name: \"творог\",\n      count: 0.4,\n      units: \"кг\",\n      type: \"молочная продукция\"\n    }, {\n      id: 10,\n      name: \"молоко\",\n      count: 1,\n      units: \"л\",\n      type: \"молочная продукция\"\n    }, {\n      id: 11,\n      name: \"яйца\",\n      count: 10,\n      units: \"шт\",\n      type: \"продукты животного происхождения\"\n    }, {\n      id: 12,\n      name: \"филе курицы\",\n      count: 0.9,\n      units: \"кг\",\n      type: \"продукты животного происхождения\"\n    }, {\n      id: 13,\n      name: \"сыр\",\n      count: 0.5,\n      units: \"кг\",\n      type: \"молочная продукция\"\n    }, {\n      id: 14,\n      name: \"сахар\",\n      count: 3,\n      units: \"кг\",\n      type: \"бакалея\"\n    }, {\n      id: 15,\n      name: \"какао-порошок\",\n      count: 0.3,\n      units: \"кг\",\n      type: \"бакалея\"\n    }, {\n      id: 16,\n      name: \"сметана\",\n      count: 0.2,\n      units: \"кг\",\n      type: \"молочная продукция\"\n    }, {\n      id: 17,\n      name: \"вода\",\n      count: 1.5,\n      units: \"кг\",\n      type: \"напитки\"\n    }, {\n      id: 18,\n      name: \"яблочный сок\",\n      count: 1,\n      units: \"л\",\n      type: \"напитки\"\n    }, {\n      id: 19,\n      name: \"свиной фарш\",\n      count: 2.2,\n      units: \"кг\",\n      type: \"продукты животного происхождения\"\n    }, {\n      id: 20,\n      name: \"мука\",\n      count: 1,\n      units: \"кг\",\n      type: \"бакалея\"\n    }, {\n      id: 21,\n      name: \"сливочное масло\",\n      count: 0.4,\n      units: \"кг\",\n      type: \"молочная продукция\"\n    }, {\n      id: 22,\n      name: \"шампиньоны\",\n      count: 0.7,\n      units: \"кг\",\n      type: \"овощи\"\n    }, {\n      id: 23,\n      name: \"колбаса\",\n      count: 0.6,\n      units: \"кг\",\n      type: \"продукты животного происхождения\"\n    }];\n    collection.insertMany(products, function (err, result) {\n      if (err) {\n        consol.log(\"Can't insert to table: \", err);\n      } else {\n        console.log('Inserted: ', result.result.n);\n      }\n\n      client.close();\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb2RiIiwicmVxdWlyZSIsIk1vbmdvQ2xpZW50IiwidXJsIiwiY29ubmVjdCIsImVyciIsImNsaWVudCIsImNvbnNvbGUiLCJsb2ciLCJkYiIsImNvbGxlY3Rpb24iLCJwcm9kdWN0cyIsImlkIiwibmFtZSIsImNvdW50IiwidW5pdHMiLCJ0eXBlIiwiaW5zZXJ0TWFueSIsInJlc3VsdCIsImNvbnNvbCIsIm4iLCJjbG9zZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxkYXNoYVxcZ2l0aHViXFxkYXRhYmFzZVxcc3JjXFxsYWJhN1xcIiwic291cmNlcyI6WyJjcmVhdGVfdGFibGVfbGFiYTcuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvZGIgPSByZXF1aXJlKFwibW9uZ29kYlwiKTtcclxudmFyIE1vbmdvQ2xpZW50ID0gbW9uZ29kYi5Nb25nb0NsaWVudDtcclxuXHJcbnZhciB1cmwgPSAgXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3XCI7XHJcbk1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCBmdW5jdGlvbihlcnIsIGNsaWVudCl7XHJcbiAgaWYgKGVycikge1xyXG4gICAgY29uc29sZS5sb2coXCJDYW4ndCBjb25uZWN0OlwiLCBlcnIpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHZhciBkYiA9IGNsaWVudC5kYihcInByb2R1Y3RzLWRiXCIpO1xyXG4gICAgdmFyIGNvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKFwicHJvZHVjdHNcIik7XHJcbiAgICB2YXIgcHJvZHVjdHMgPSBbXHJcbiAgICAgIHtpZDogMSwgbmFtZTogXCLQutCw0YDRgtC+0YTQtdC70YxcIiwgY291bnQ6IDEuNSwgdW5pdHM6IFwi0LrQs1wiLCB0eXBlOiBcItC+0LLQvtGJ0LhcIn0sXHJcbiAgICAgIHtpZDogMiwgbmFtZTogXCLQu9GD0LpcIiwgY291bnQ6IDEsIHVuaXRzOiBcItC60LNcIiwgdHlwZTogXCLQvtCy0L7RidC4XCJ9LFxyXG4gICAgICB7aWQ6IDMsIG5hbWU6IFwi0LrQsNC/0YPRgdGC0LBcIiwgY291bnQ6IDAuNywgdW5pdHM6IFwi0LrQs1wiLCB0eXBlOiBcItC+0LLQvtGJ0LhcIn0sXHJcbiAgICAgIHtpZDogNCwgbmFtZTogXCLRj9Cx0LvQvtC60L5cIiwgY291bnQ6IDUsIHVuaXRzOiBcItGI0YJcIiwgdHlwZTogXCLRhNGA0YPQutGC0YtcIn0sXHJcbiAgICAgIHtpZDogNSwgbmFtZTogXCLQsdCw0L3QsNC9XCIsIGNvdW50OiAzLCB1bml0czogXCLRiNGCXCIsIHR5cGU6IFwi0YTRgNGD0LrRgtGLXCJ9LFxyXG4gICAgICB7aWQ6IDYsIG5hbWU6IFwi0LPRgNC10YfQutCwXCIsIGNvdW50OiAxLCB1bml0czogXCLQutCzXCIsIHR5cGU6IFwi0LHQsNC60LDQu9C10Y9cIn0sXHJcbiAgICAgIHtpZDogNywgbmFtZTogXCLRgNC40YFcIiwgY291bnQ6IDEsIHVuaXRzOiBcItC60LNcIiwgdHlwZTogXCLQsdCw0LrQsNC70LXRj1wifSxcclxuICAgICAge2lkOiA4LCBuYW1lOiBcItC/0LjQstC+XCIsIGNvdW50OiAwLjUsIHVuaXRzOiBcItC7XCIsIHR5cGU6IFwi0LDQu9C60L7Qs9C+0LvRjFwifSxcclxuICAgICAge2lkOiA5LCBuYW1lOiBcItGC0LLQvtGA0L7Qs1wiLCBjb3VudDogMC40LCB1bml0czogXCLQutCzXCIsIHR5cGU6IFwi0LzQvtC70L7Rh9C90LDRjyDQv9GA0L7QtNGD0LrRhtC40Y9cIn0sXHJcbiAgICAgIHtpZDogMTAsIG5hbWU6IFwi0LzQvtC70L7QutC+XCIsIGNvdW50OiAxLCB1bml0czogXCLQu1wiLCB0eXBlOiBcItC80L7Qu9C+0YfQvdCw0Y8g0L/RgNC+0LTRg9C60YbQuNGPXCJ9LFxyXG4gICAgICB7aWQ6IDExLCBuYW1lOiBcItGP0LnRhtCwXCIsIGNvdW50OiAxMCwgdW5pdHM6IFwi0YjRglwiLCB0eXBlOiBcItC/0YDQvtC00YPQutGC0Ysg0LbQuNCy0L7RgtC90L7Qs9C+INC/0YDQvtC40YHRhdC+0LbQtNC10L3QuNGPXCJ9LFxyXG4gICAgICB7aWQ6IDEyLCBuYW1lOiBcItGE0LjQu9C1INC60YPRgNC40YbRi1wiLCBjb3VudDogMC45LCB1bml0czogXCLQutCzXCIsIHR5cGU6IFwi0L/RgNC+0LTRg9C60YLRiyDQttC40LLQvtGC0L3QvtCz0L4g0L/RgNC+0LjRgdGF0L7QttC00LXQvdC40Y9cIn0sXHJcbiAgICAgIHtpZDogMTMsIG5hbWU6IFwi0YHRi9GAXCIsIGNvdW50OiAwLjUsIHVuaXRzOiBcItC60LNcIiwgdHlwZTogXCLQvNC+0LvQvtGH0L3QsNGPINC/0YDQvtC00YPQutGG0LjRj1wifSxcclxuICAgICAge2lkOiAxNCwgbmFtZTogXCLRgdCw0YXQsNGAXCIsIGNvdW50OiAzLCB1bml0czogXCLQutCzXCIsIHR5cGU6IFwi0LHQsNC60LDQu9C10Y9cIn0sXHJcbiAgICAgIHtpZDogMTUsIG5hbWU6IFwi0LrQsNC60LDQvi3Qv9C+0YDQvtGI0L7QulwiLCBjb3VudDogMC4zLCB1bml0czogXCLQutCzXCIsIHR5cGU6IFwi0LHQsNC60LDQu9C10Y9cIn0sXHJcbiAgICAgIHtpZDogMTYsIG5hbWU6IFwi0YHQvNC10YLQsNC90LBcIiwgY291bnQ6IDAuMiwgdW5pdHM6IFwi0LrQs1wiLCB0eXBlOiBcItC80L7Qu9C+0YfQvdCw0Y8g0L/RgNC+0LTRg9C60YbQuNGPXCJ9LFxyXG4gICAgICB7aWQ6IDE3LCBuYW1lOiBcItCy0L7QtNCwXCIsIGNvdW50OiAxLjUsIHVuaXRzOiBcItC60LNcIiwgdHlwZTogXCLQvdCw0L/QuNGC0LrQuFwifSxcclxuICAgICAge2lkOiAxOCwgbmFtZTogXCLRj9Cx0LvQvtGH0L3Ri9C5INGB0L7QulwiLCBjb3VudDogMSwgdW5pdHM6IFwi0LtcIiwgdHlwZTogXCLQvdCw0L/QuNGC0LrQuFwifSxcclxuICAgICAge2lkOiAxOSwgbmFtZTogXCLRgdCy0LjQvdC+0Lkg0YTQsNGA0YhcIiwgY291bnQ6IDIuMiwgdW5pdHM6IFwi0LrQs1wiLCB0eXBlOiBcItC/0YDQvtC00YPQutGC0Ysg0LbQuNCy0L7RgtC90L7Qs9C+INC/0YDQvtC40YHRhdC+0LbQtNC10L3QuNGPXCJ9LFxyXG4gICAgICB7aWQ6IDIwLCBuYW1lOiBcItC80YPQutCwXCIsIGNvdW50OiAxLCB1bml0czogXCLQutCzXCIsIHR5cGU6IFwi0LHQsNC60LDQu9C10Y9cIn0sXHJcbiAgICAgIHtpZDogMjEsIG5hbWU6IFwi0YHQu9C40LLQvtGH0L3QvtC1INC80LDRgdC70L5cIiwgY291bnQ6IDAuNCwgdW5pdHM6IFwi0LrQs1wiLCB0eXBlOiBcItC80L7Qu9C+0YfQvdCw0Y8g0L/RgNC+0LTRg9C60YbQuNGPXCJ9LFxyXG4gICAgICB7aWQ6IDIyLCBuYW1lOiBcItGI0LDQvNC/0LjQvdGM0L7QvdGLXCIsIGNvdW50OiAwLjcsIHVuaXRzOiBcItC60LNcIiwgdHlwZTogXCLQvtCy0L7RidC4XCJ9LFxyXG4gICAgICB7aWQ6IDIzLCBuYW1lOiBcItC60L7Qu9Cx0LDRgdCwXCIsIGNvdW50OiAwLjYsIHVuaXRzOiBcItC60LNcIiwgdHlwZTogXCLQv9GA0L7QtNGD0LrRgtGLINC20LjQstC+0YLQvdC+0LPQviDQv9GA0L7QuNGB0YXQvtC20LTQtdC90LjRj1wifVxyXG4gICAgXTtcclxuICAgIGNvbGxlY3Rpb24uaW5zZXJ0TWFueShwcm9kdWN0cywgZnVuY3Rpb24oZXJyLCByZXN1bHQpe1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sLmxvZyhcIkNhbid0IGluc2VydCB0byB0YWJsZTogXCIsIGVycik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0luc2VydGVkOiAnLCByZXN1bHQucmVzdWx0Lm4pO1xyXG4gICAgICB9XHJcbiAgICAgIGNsaWVudC5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FB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","map":{"version":3,"names":["mongodb","require","MongoClient","url","connect","err","client","console","log","db","collection","products","id","name","count","units","type","insertMany","result","consol","n","close"],"sourceRoot":"C:\\Users\\dasha\\github\\database\\src\\laba7\\","sources":["create_table_laba7.js"],"sourcesContent":["var mongodb = require(\"mongodb\");\r\nvar MongoClient = mongodb.MongoClient;\r\n\r\nvar url =  \"mongodb://localhost:27017\";\r\nMongoClient.connect(url, function(err, client){\r\n  if (err) {\r\n    console.log(\"Can't connect:\", err);\r\n  }\r\n  else {\r\n    var db = client.db(\"products-db\");\r\n    var collection = db.collection(\"products\");\r\n    var products = [\r\n      {id: 1, name: \"картофель\", count: 1.5, units: \"кг\", type: \"овощи\"},\r\n      {id: 2, name: \"лук\", count: 1, units: \"кг\", type: \"овощи\"},\r\n      {id: 3, name: \"капуста\", count: 0.7, units: \"кг\", type: \"овощи\"},\r\n      {id: 4, name: \"яблоко\", count: 5, units: \"шт\", type: \"фрукты\"},\r\n      {id: 5, name: \"банан\", count: 3, units: \"шт\", type: \"фрукты\"},\r\n      {id: 6, name: \"гречка\", count: 1, units: \"кг\", type: \"бакалея\"},\r\n      {id: 7, name: \"рис\", count: 1, units: \"кг\", type: \"бакалея\"},\r\n      {id: 8, name: \"пиво\", count: 0.5, units: \"л\", type: \"алкоголь\"},\r\n      {id: 9, name: \"творог\", count: 0.4, units: \"кг\", type: \"молочная продукция\"},\r\n      {id: 10, name: \"молоко\", count: 1, units: \"л\", type: \"молочная продукция\"},\r\n      {id: 11, name: \"яйца\", count: 10, units: \"шт\", type: \"продукты животного происхождения\"},\r\n      {id: 12, name: \"филе курицы\", count: 0.9, units: \"кг\", type: \"продукты животного происхождения\"},\r\n      {id: 13, name: \"сыр\", count: 0.5, units: \"кг\", type: \"молочная продукция\"},\r\n      {id: 14, name: \"сахар\", count: 3, units: \"кг\", type: \"бакалея\"},\r\n      {id: 15, name: \"какао-порошок\", count: 0.3, units: \"кг\", type: \"бакалея\"},\r\n      {id: 16, name: \"сметана\", count: 0.2, units: \"кг\", type: \"молочная продукция\"},\r\n      {id: 17, name: \"вода\", count: 1.5, units: \"кг\", type: \"напитки\"},\r\n      {id: 18, name: \"яблочный сок\", count: 1, units: \"л\", type: \"напитки\"},\r\n      {id: 19, name: \"свиной фарш\", count: 2.2, units: \"кг\", type: \"продукты животного происхождения\"},\r\n      {id: 20, name: \"мука\", count: 1, units: \"кг\", type: \"бакалея\"},\r\n      {id: 21, name: \"сливочное масло\", count: 0.4, units: \"кг\", type: \"молочная продукция\"},\r\n      {id: 22, name: \"шампиньоны\", count: 0.7, units: \"кг\", type: \"овощи\"},\r\n      {id: 23, name: \"колбаса\", count: 0.6, units: \"кг\", type: \"продукты животного происхождения\"}\r\n    ];\r\n    collection.insertMany(products, function(err, result){\r\n      if (err) {\r\n        consol.log(\"Can't insert to table: \", err);\r\n      }\r\n      else {\r\n        console.log('Inserted: ', result.result.n);\r\n      }\r\n      client.close();\r\n    });\r\n  }\r\n});\r\n"],"mappings":"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"}},"mtime":1668275006517},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba7\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"filename\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba7\\\\laba7.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.3:production":{"value":{"code":"\"use strict\";\n\nvar http = require(\"http\");\n\nvar fs = require(\"fs\");\n\nvar cassandra = require(\"cassandra-driver\");\n\nvar client = new cassandra.Client({\n  contactPoints: ['127.0.0.1'],\n  localDataCenter: 'datacenter1',\n  keyspace: 'products'\n});\nhttp.createServer(function (req, res) {\n  var str = req.url.split(\"-\");\n  str[1] = decodeURIComponent(str[1]);\n  console.log(\"request: \" + str[0]);\n\n  switch (str[0]) {\n    case \"/\":\n      fs.readFile(\"./src/laba7/index.html\", function (err, content) {\n        if (err) {\n          res.writeHead(500, {\n            \"Content-Type\": \"text/html; charset=utf-8\"\n          });\n          res.end(err.message, \"utf-8\");\n          console.log(err);\n        } else {\n          res.writeHead(200, {\n            \"Content-Type\": \"text/html; charset=utf-8\"\n          });\n          res.end(content, \"utf-8\");\n        }\n      });\n      break;\n\n    case \"/search\":\n      res.writeHead(200, {\n        \"Content-Type\": \"text/html; charset=utf-8\"\n      });\n      client.execute(\"SELECT * FROM products WHERE type = ?\", [str[1]], function (err, rows) {\n        if (err) {\n          console.log(\"Can't select from table\");\n        } else {\n          console.log(rows);\n          var obj_str = JSON.stringify(rows);\n          res.end(obj_str);\n        }\n      });\n      break;\n\n    default:\n      res.writeHead(404, {\n        \"Content-Type\": \"text/html; charset=utf-8\"\n      });\n      res.write(\"<!DOCTYPE html>\\n\" + \"<html>\\n\" + \" <head>\\n\" + \" <meta charset='utf-8'>\\n\" + \" </head>\\n\" + \" <body>\\n\");\n      res.write(\"404, Not Found: \" + str[0]);\n      res.end(\" </body>\\n\" + \"</html>\\n\");\n      break;\n  }\n}).listen(3000, '0.0.0.0');\nconsole.log(\"Server is running\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwIiwicmVxdWlyZSIsImZzIiwiY2Fzc2FuZHJhIiwiY2xpZW50IiwiQ2xpZW50IiwiY29udGFjdFBvaW50cyIsImxvY2FsRGF0YUNlbnRlciIsImtleXNwYWNlIiwiY3JlYXRlU2VydmVyIiwicmVxIiwicmVzIiwic3RyIiwidXJsIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb25zb2xlIiwibG9nIiwicmVhZEZpbGUiLCJlcnIiLCJjb250ZW50Iiwid3JpdGVIZWFkIiwiZW5kIiwibWVzc2FnZSIsImV4ZWN1dGUiLCJyb3dzIiwib2JqX3N0ciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxkYXNoYVxcZ2l0aHViXFxkYXRhYmFzZVxcc3JjXFxsYWJhN1xcIiwic291cmNlcyI6WyJsYWJhNy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xyXG52YXIgZnMgPSByZXF1aXJlKFwiZnNcIilcclxudmFyIGNhc3NhbmRyYSA9IHJlcXVpcmUoXCJjYXNzYW5kcmEtZHJpdmVyXCIpXHJcbnZhciBjbGllbnQgPSBuZXcgY2Fzc2FuZHJhLkNsaWVudCh7Y29udGFjdFBvaW50czogWycxMjcuMC4wLjEnXSwgbG9jYWxEYXRhQ2VudGVyOiAnZGF0YWNlbnRlcjEnLCBrZXlzcGFjZTogJ3Byb2R1Y3RzJ30pO1xyXG5cclxuaHR0cC5jcmVhdGVTZXJ2ZXIoZnVuY3Rpb24gKHJlcSwgcmVzKXtcclxuICB2YXIgc3RyID0gcmVxLnVybC5zcGxpdChcIi1cIik7XHJcbiAgc3RyWzFdID0gZGVjb2RlVVJJQ29tcG9uZW50KHN0clsxXSk7XHJcbiAgY29uc29sZS5sb2coXCJyZXF1ZXN0OiBcIiArIHN0clswXSk7XHJcbiAgc3dpdGNoKHN0clswXSkge1xyXG4gICAgY2FzZSBcIi9cIjpcclxuICAgICAgZnMucmVhZEZpbGUoXCIuL3NyYy9sYWJhNy9pbmRleC5odG1sXCIsIGZ1bmN0aW9uKGVyciwgY29udGVudCl7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgcmVzLndyaXRlSGVhZCg1MDAsIHtcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwifSk7XHJcbiAgICAgICAgICByZXMuZW5kKGVyci5tZXNzYWdlLCBcInV0Zi04XCIpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZXMud3JpdGVIZWFkKDIwMCwge1wiQ29udGVudC1UeXBlXCI6IFwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCJ9KTtcclxuICAgICAgICAgIHJlcy5lbmQoY29udGVudCwgXCJ1dGYtOFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCIvc2VhcmNoXCI6XHJcbiAgICAgIHJlcy53cml0ZUhlYWQoMjAwLCB7XCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLThcIn0pO1xyXG4gICAgICBjbGllbnQuZXhlY3V0ZShcIlNFTEVDVCAqIEZST00gcHJvZHVjdHMgV0hFUkUgdHlwZSA9ID9cIiwgW3N0clsxXV0sIGZ1bmN0aW9uKGVyciwgcm93cykge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FuJ3Qgc2VsZWN0IGZyb20gdGFibGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocm93cyk7XHJcbiAgICAgICAgICB2YXIgb2JqX3N0ciA9IEpTT04uc3RyaW5naWZ5KHJvd3MpO1xyXG4gICAgICBcdFx0cmVzLmVuZChvYmpfc3RyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJlcy53cml0ZUhlYWQoNDA0LCB7XCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLThcIn0pO1xyXG4gICAgICByZXMud3JpdGUoXCI8IURPQ1RZUEUgaHRtbD5cXG5cIiArXHJcbiAgICAgICAgXCI8aHRtbD5cXG5cIiArXHJcbiAgICAgICAgXCIgPGhlYWQ+XFxuXCIgK1xyXG4gICAgICAgIFwiIDxtZXRhIGNoYXJzZXQ9J3V0Zi04Jz5cXG5cIiArXHJcbiAgICAgICAgXCIgPC9oZWFkPlxcblwiICtcclxuICAgICAgICBcIiA8Ym9keT5cXG5cIlxyXG4gICAgICApO1xyXG4gICAgICByZXMud3JpdGUoXCI0MDQsIE5vdCBGb3VuZDogXCIgKyBzdHJbMF0pO1xyXG4gICAgICByZXMuZW5kKFwiIDwvYm9keT5cXG5cIiArXHJcbiAgICAgICAgXCI8L2h0bWw+XFxuXCJcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG59KS5saXN0ZW4oMzAwMCwgJzAuMC4wLjAnKTtcclxuY29uc29sZS5sb2coXCJTZXJ2ZXIgaXMgcnVubmluZ1wiKTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBbEI7O0FBQ0EsSUFBSUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsSUFBRCxDQUFoQjs7QUFDQSxJQUFJRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxrQkFBRCxDQUF2Qjs7QUFDQSxJQUFJRyxNQUFNLEdBQUcsSUFBSUQsU0FBUyxDQUFDRSxNQUFkLENBQXFCO0VBQUNDLGFBQWEsRUFBRSxDQUFDLFdBQUQsQ0FBaEI7RUFBK0JDLGVBQWUsRUFBRSxhQUFoRDtFQUErREMsUUFBUSxFQUFFO0FBQXpFLENBQXJCLENBQWI7QUFFQVIsSUFBSSxDQUFDUyxZQUFMLENBQWtCLFVBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFtQjtFQUNuQyxJQUFJQyxHQUFHLEdBQUdGLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyxLQUFSLENBQWMsR0FBZCxDQUFWO0VBQ0FGLEdBQUcsQ0FBQyxDQUFELENBQUgsR0FBU0csa0JBQWtCLENBQUNILEdBQUcsQ0FBQyxDQUFELENBQUosQ0FBM0I7RUFDQUksT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBY0wsR0FBRyxDQUFDLENBQUQsQ0FBN0I7O0VBQ0EsUUFBT0EsR0FBRyxDQUFDLENBQUQsQ0FBVjtJQUNFLEtBQUssR0FBTDtNQUNFVixFQUFFLENBQUNnQixRQUFILENBQVksd0JBQVosRUFBc0MsVUFBU0MsR0FBVCxFQUFjQyxPQUFkLEVBQXNCO1FBQzFELElBQUlELEdBQUosRUFBUztVQUNQUixHQUFHLENBQUNVLFNBQUosQ0FBYyxHQUFkLEVBQW1CO1lBQUMsZ0JBQWdCO1VBQWpCLENBQW5CO1VBQ0FWLEdBQUcsQ0FBQ1csR0FBSixDQUFRSCxHQUFHLENBQUNJLE9BQVosRUFBcUIsT0FBckI7VUFDQVAsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEdBQVo7UUFDRCxDQUpELE1BS0s7VUFDSFIsR0FBRyxDQUFDVSxTQUFKLENBQWMsR0FBZCxFQUFtQjtZQUFDLGdCQUFnQjtVQUFqQixDQUFuQjtVQUNBVixHQUFHLENBQUNXLEdBQUosQ0FBUUYsT0FBUixFQUFpQixPQUFqQjtRQUNEO01BQ0YsQ0FWRDtNQVdBOztJQUNGLEtBQUssU0FBTDtNQUNFVCxHQUFHLENBQUNVLFNBQUosQ0FBYyxHQUFkLEVBQW1CO1FBQUMsZ0JBQWdCO01BQWpCLENBQW5CO01BQ0FqQixNQUFNLENBQUNvQixPQUFQLENBQWUsdUNBQWYsRUFBd0QsQ0FBQ1osR0FBRyxDQUFDLENBQUQsQ0FBSixDQUF4RCxFQUFrRSxVQUFTTyxHQUFULEVBQWNNLElBQWQsRUFBb0I7UUFDcEYsSUFBSU4sR0FBSixFQUFTO1VBQ1BILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHlCQUFaO1FBQ0QsQ0FGRCxNQUdLO1VBQ0hELE9BQU8sQ0FBQ0MsR0FBUixDQUFZUSxJQUFaO1VBQ0EsSUFBSUMsT0FBTyxHQUFHQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUgsSUFBZixDQUFkO1VBQ0ZkLEdBQUcsQ0FBQ1csR0FBSixDQUFRSSxPQUFSO1FBQ0M7TUFDRixDQVREO01BVUE7O0lBQ0Y7TUFDRWYsR0FBRyxDQUFDVSxTQUFKLENBQWMsR0FBZCxFQUFtQjtRQUFDLGdCQUFnQjtNQUFqQixDQUFuQjtNQUNBVixHQUFHLENBQUNrQixLQUFKLENBQVUsc0JBQ1IsVUFEUSxHQUVSLFdBRlEsR0FHUiwyQkFIUSxHQUlSLFlBSlEsR0FLUixXQUxGO01BT0FsQixHQUFHLENBQUNrQixLQUFKLENBQVUscUJBQXFCakIsR0FBRyxDQUFDLENBQUQsQ0FBbEM7TUFDQUQsR0FBRyxDQUFDVyxHQUFKLENBQVEsZUFDTixXQURGO01BR0E7RUF4Q0o7QUEwQ0QsQ0E5Q0QsRUE4Q0dRLE1BOUNILENBOENVLElBOUNWLEVBOENnQixTQTlDaEI7QUErQ0FkLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1CQUFaIn0=","map":{"version":3,"names":["http","require","fs","cassandra","client","Client","contactPoints","localDataCenter","keyspace","createServer","req","res","str","url","split","decodeURIComponent","console","log","readFile","err","content","writeHead","end","message","execute","rows","obj_str","JSON","stringify","write","listen"],"sourceRoot":"C:\\Users\\dasha\\github\\database\\src\\laba7\\","sources":["laba7.js"],"sourcesContent":["var http = require(\"http\");\r\nvar fs = require(\"fs\")\r\nvar cassandra = require(\"cassandra-driver\")\r\nvar client = new cassandra.Client({contactPoints: ['127.0.0.1'], localDataCenter: 'datacenter1', keyspace: 'products'});\r\n\r\nhttp.createServer(function (req, res){\r\n  var str = req.url.split(\"-\");\r\n  str[1] = decodeURIComponent(str[1]);\r\n  console.log(\"request: \" + str[0]);\r\n  switch(str[0]) {\r\n    case \"/\":\r\n      fs.readFile(\"./src/laba7/index.html\", function(err, content){\r\n        if (err) {\r\n          res.writeHead(500, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n          res.end(err.message, \"utf-8\");\r\n          console.log(err);\r\n        }\r\n        else {\r\n          res.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n          res.end(content, \"utf-8\");\r\n        }\r\n      });\r\n      break;\r\n    case \"/search\":\r\n      res.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n      client.execute(\"SELECT * FROM products WHERE type = ?\", [str[1]], function(err, rows) {\r\n        if (err) {\r\n          console.log(\"Can't select from table\");\r\n        }\r\n        else {\r\n          console.log(rows);\r\n          var obj_str = JSON.stringify(rows);\r\n      \t\tres.end(obj_str);\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      res.writeHead(404, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n      res.write(\"<!DOCTYPE html>\\n\" +\r\n        \"<html>\\n\" +\r\n        \" <head>\\n\" +\r\n        \" <meta charset='utf-8'>\\n\" +\r\n        \" </head>\\n\" +\r\n        \" <body>\\n\"\r\n      );\r\n      res.write(\"404, Not Found: \" + str[0]);\r\n      res.end(\" </body>\\n\" +\r\n        \"</html>\\n\"\r\n      );\r\n      break;\r\n  }\r\n}).listen(3000, '0.0.0.0');\r\nconsole.log(\"Server is running\");\r\n"],"mappings":";;AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,kBAAD,CAAvB;;AACA,IAAIG,MAAM,GAAG,IAAID,SAAS,CAACE,MAAd,CAAqB;EAACC,aAAa,EAAE,CAAC,WAAD,CAAhB;EAA+BC,eAAe,EAAE,aAAhD;EAA+DC,QAAQ,EAAE;AAAzE,CAArB,CAAb;AAEAR,IAAI,CAACS,YAAL,CAAkB,UAAUC,GAAV,EAAeC,GAAf,EAAmB;EACnC,IAAIC,GAAG,GAAGF,GAAG,CAACG,GAAJ,CAAQC,KAAR,CAAc,GAAd,CAAV;EACAF,GAAG,CAAC,CAAD,CAAH,GAASG,kBAAkB,CAACH,GAAG,CAAC,CAAD,CAAJ,CAA3B;EACAI,OAAO,CAACC,GAAR,CAAY,cAAcL,GAAG,CAAC,CAAD,CAA7B;;EACA,QAAOA,GAAG,CAAC,CAAD,CAAV;IACE,KAAK,GAAL;MACEV,EAAE,CAACgB,QAAH,CAAY,wBAAZ,EAAsC,UAASC,GAAT,EAAcC,OAAd,EAAsB;QAC1D,IAAID,GAAJ,EAAS;UACPR,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;YAAC,gBAAgB;UAAjB,CAAnB;UACAV,GAAG,CAACW,GAAJ,CAAQH,GAAG,CAACI,OAAZ,EAAqB,OAArB;UACAP,OAAO,CAACC,GAAR,CAAYE,GAAZ;QACD,CAJD,MAKK;UACHR,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;YAAC,gBAAgB;UAAjB,CAAnB;UACAV,GAAG,CAACW,GAAJ,CAAQF,OAAR,EAAiB,OAAjB;QACD;MACF,CAVD;MAWA;;IACF,KAAK,SAAL;MACET,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;QAAC,gBAAgB;MAAjB,CAAnB;MACAjB,MAAM,CAACoB,OAAP,CAAe,uCAAf,EAAwD,CAACZ,GAAG,CAAC,CAAD,CAAJ,CAAxD,EAAkE,UAASO,GAAT,EAAcM,IAAd,EAAoB;QACpF,IAAIN,GAAJ,EAAS;UACPH,OAAO,CAACC,GAAR,CAAY,yBAAZ;QACD,CAFD,MAGK;UACHD,OAAO,CAACC,GAAR,CAAYQ,IAAZ;UACA,IAAIC,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAd;UACFd,GAAG,CAACW,GAAJ,CAAQI,OAAR;QACC;MACF,CATD;MAUA;;IACF;MACEf,GAAG,CAACU,SAAJ,CAAc,GAAd,EAAmB;QAAC,gBAAgB;MAAjB,CAAnB;MACAV,GAAG,CAACkB,KAAJ,CAAU,sBACR,UADQ,GAER,WAFQ,GAGR,2BAHQ,GAIR,YAJQ,GAKR,WALF;MAOAlB,GAAG,CAACkB,KAAJ,CAAU,qBAAqBjB,GAAG,CAAC,CAAD,CAAlC;MACAD,GAAG,CAACW,GAAJ,CAAQ,eACN,WADF;MAGA;EAxCJ;AA0CD,CA9CD,EA8CGQ,MA9CH,CA8CU,IA9CV,EA8CgB,SA9ChB;AA+CAd,OAAO,CAACC,GAAR,CAAY,mBAAZ"}},"mtime":1667681317272},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba8\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"filename\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\\\\src\\\\laba8\\\\laba8.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"C:\\\\Users\\\\dasha\\\\github\\\\database\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.3:production":{"value":{"code":"\"use strict\";\n\nvar http = require(\"http\");\n\nvar fs = require(\"fs\");\n\nvar mongodb = require(\"mongodb\");\n\nvar MongoClient = mongodb.MongoClient;\nvar url = \"mongodb://localhost:27017\";\nhttp.createServer(function (req, res) {\n  var str = req.url.split(\"-\");\n  str[1] = decodeURIComponent(str[1]);\n  console.log(\"request: \" + str[0]);\n\n  switch (str[0]) {\n    case \"/\":\n      fs.readFile(\"./src/laba8/index.html\", function (err, content) {\n        if (err) {\n          res.writeHead(500, {\n            \"Content-Type\": \"text/html; charset=utf-8\"\n          });\n          res.end(err.message, \"utf-8\");\n          console.log(err);\n        } else {\n          res.writeHead(200, {\n            \"Content-Type\": \"text/html; charset=utf-8\"\n          });\n          res.end(content, \"utf-8\");\n        }\n      });\n      break;\n\n    case \"/search\":\n      res.writeHead(200, {\n        \"Content-Type\": \"text/html; charset=utf-8\"\n      });\n      MongoClient.connect(url, function (err, client) {\n        if (err) {\n          console.log(\"Can't connect:\", err);\n        } else {\n          var db = client.db(\"products-db\");\n          var collection = db.collection(\"products\");\n          collection.find({\n            $text: {\n              $search: str[1]\n            }\n          }).toArray(function (err, result) {\n            if (err) {\n              console.log(\"Can't find: \", err);\n            } else {\n              console.log(result);\n              res.end(JSON.stringify(result));\n            }\n          });\n        }\n      });\n      break;\n\n    default:\n      res.writeHead(404, {\n        \"Content-Type\": \"text/html; charset=utf-8\"\n      });\n      res.write(\"<!DOCTYPE html>\\n\" + \"<html>\\n\" + \" <head>\\n\" + \" <meta charset='utf-8'>\\n\" + \" </head>\\n\" + \" <body>\\n\");\n      res.write(\"404, Not Found: \" + str[0]);\n      res.end(\" </body>\\n\" + \"</html>\\n\");\n      break;\n  }\n}).listen(3000, '0.0.0.0');\nconsole.log(\"Server is running\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwIiwicmVxdWlyZSIsImZzIiwibW9uZ29kYiIsIk1vbmdvQ2xpZW50IiwidXJsIiwiY3JlYXRlU2VydmVyIiwicmVxIiwicmVzIiwic3RyIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb25zb2xlIiwibG9nIiwicmVhZEZpbGUiLCJlcnIiLCJjb250ZW50Iiwid3JpdGVIZWFkIiwiZW5kIiwibWVzc2FnZSIsImNvbm5lY3QiLCJjbGllbnQiLCJkYiIsImNvbGxlY3Rpb24iLCJmaW5kIiwiJHRleHQiLCIkc2VhcmNoIiwidG9BcnJheSIsInJlc3VsdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxkYXNoYVxcZ2l0aHViXFxkYXRhYmFzZVxcc3JjXFxsYWJhOFxcIiwic291cmNlcyI6WyJsYWJhOC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xyXG52YXIgZnMgPSByZXF1aXJlKFwiZnNcIilcclxudmFyIG1vbmdvZGIgPSByZXF1aXJlKFwibW9uZ29kYlwiKTtcclxudmFyIE1vbmdvQ2xpZW50ID0gbW9uZ29kYi5Nb25nb0NsaWVudDtcclxudmFyIHVybCA9ICBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTdcIjtcclxuXHJcbmh0dHAuY3JlYXRlU2VydmVyKGZ1bmN0aW9uIChyZXEsIHJlcyl7XHJcbiAgdmFyIHN0ciA9IHJlcS51cmwuc3BsaXQoXCItXCIpO1xyXG4gIHN0clsxXSA9IGRlY29kZVVSSUNvbXBvbmVudChzdHJbMV0pO1xyXG4gIGNvbnNvbGUubG9nKFwicmVxdWVzdDogXCIgKyBzdHJbMF0pO1xyXG4gIHN3aXRjaChzdHJbMF0pIHtcclxuICAgIGNhc2UgXCIvXCI6XHJcbiAgICAgIGZzLnJlYWRGaWxlKFwiLi9zcmMvbGFiYTgvaW5kZXguaHRtbFwiLCBmdW5jdGlvbihlcnIsIGNvbnRlbnQpe1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIHJlcy53cml0ZUhlYWQoNTAwLCB7XCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLThcIn0pO1xyXG4gICAgICAgICAgcmVzLmVuZChlcnIubWVzc2FnZSwgXCJ1dGYtOFwiKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmVzLndyaXRlSGVhZCgyMDAsIHtcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwifSk7XHJcbiAgICAgICAgICByZXMuZW5kKGNvbnRlbnQsIFwidXRmLThcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiL3NlYXJjaFwiOlxyXG4gICAgICByZXMud3JpdGVIZWFkKDIwMCwge1wiQ29udGVudC1UeXBlXCI6IFwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCJ9KTtcclxuICAgICAgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIGZ1bmN0aW9uKGVyciwgY2xpZW50KXtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbid0IGNvbm5lY3Q6XCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGRiID0gY2xpZW50LmRiKFwicHJvZHVjdHMtZGJcIik7XHJcbiAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oXCJwcm9kdWN0c1wiKTtcclxuICAgICAgICAgIGNvbGxlY3Rpb24uZmluZCh7JHRleHQ6IHskc2VhcmNoOiBzdHJbMV19fSkudG9BcnJheShmdW5jdGlvbihlcnIsIHJlc3VsdCl7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbid0IGZpbmQ6IFwiLCBlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXMud3JpdGVIZWFkKDQwNCwge1wiQ29udGVudC1UeXBlXCI6IFwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCJ9KTtcclxuICAgICAgcmVzLndyaXRlKFwiPCFET0NUWVBFIGh0bWw+XFxuXCIgK1xyXG4gICAgICAgIFwiPGh0bWw+XFxuXCIgK1xyXG4gICAgICAgIFwiIDxoZWFkPlxcblwiICtcclxuICAgICAgICBcIiA8bWV0YSBjaGFyc2V0PSd1dGYtOCc+XFxuXCIgK1xyXG4gICAgICAgIFwiIDwvaGVhZD5cXG5cIiArXHJcbiAgICAgICAgXCIgPGJvZHk+XFxuXCJcclxuICAgICAgKTtcclxuICAgICAgcmVzLndyaXRlKFwiNDA0LCBOb3QgRm91bmQ6IFwiICsgc3RyWzBdKTtcclxuICAgICAgcmVzLmVuZChcIiA8L2JvZHk+XFxuXCIgK1xyXG4gICAgICAgIFwiPC9odG1sPlxcblwiXHJcbiAgICAgICk7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufSkubGlzdGVuKDMwMDAsICcwLjAuMC4wJyk7XHJcbmNvbnNvbGUubG9nKFwiU2VydmVyIGlzIHJ1bm5pbmdcIik7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQWxCOztBQUNBLElBQUlDLEVBQUUsR0FBR0QsT0FBTyxDQUFDLElBQUQsQ0FBaEI7O0FBQ0EsSUFBSUUsT0FBTyxHQUFHRixPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJ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","map":{"version":3,"names":["http","require","fs","mongodb","MongoClient","url","createServer","req","res","str","split","decodeURIComponent","console","log","readFile","err","content","writeHead","end","message","connect","client","db","collection","find","$text","$search","toArray","result","JSON","stringify","write","listen"],"sourceRoot":"C:\\Users\\dasha\\github\\database\\src\\laba8\\","sources":["laba8.js"],"sourcesContent":["var http = require(\"http\");\r\nvar fs = require(\"fs\")\r\nvar mongodb = require(\"mongodb\");\r\nvar MongoClient = mongodb.MongoClient;\r\nvar url =  \"mongodb://localhost:27017\";\r\n\r\nhttp.createServer(function (req, res){\r\n  var str = req.url.split(\"-\");\r\n  str[1] = decodeURIComponent(str[1]);\r\n  console.log(\"request: \" + str[0]);\r\n  switch(str[0]) {\r\n    case \"/\":\r\n      fs.readFile(\"./src/laba8/index.html\", function(err, content){\r\n        if (err) {\r\n          res.writeHead(500, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n          res.end(err.message, \"utf-8\");\r\n          console.log(err);\r\n        }\r\n        else {\r\n          res.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n          res.end(content, \"utf-8\");\r\n        }\r\n      });\r\n      break;\r\n    case \"/search\":\r\n      res.writeHead(200, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n      MongoClient.connect(url, function(err, client){\r\n        if (err) {\r\n          console.log(\"Can't connect:\", err);\r\n        }\r\n        else {\r\n          var db = client.db(\"products-db\");\r\n          var collection = db.collection(\"products\");\r\n          collection.find({$text: {$search: str[1]}}).toArray(function(err, result){\r\n            if (err) {\r\n              console.log(\"Can't find: \", err);\r\n            }\r\n            else {\r\n              console.log(result);\r\n              res.end(JSON.stringify(result));\r\n            }\r\n          });\r\n        }\r\n      });\r\n      break;\r\n    default:\r\n      res.writeHead(404, {\"Content-Type\": \"text/html; charset=utf-8\"});\r\n      res.write(\"<!DOCTYPE html>\\n\" +\r\n        \"<html>\\n\" +\r\n        \" <head>\\n\" +\r\n        \" <meta charset='utf-8'>\\n\" +\r\n        \" </head>\\n\" +\r\n        \" <body>\\n\"\r\n      );\r\n      res.write(\"404, Not Found: \" + str[0]);\r\n      res.end(\" </body>\\n\" +\r\n        \"</html>\\n\"\r\n      );\r\n      break;\r\n  }\r\n}).listen(3000, '0.0.0.0');\r\nconsole.log(\"Server is running\");\r\n"],"mappings":";;AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIG,WAAW,GAAGD,OAAO,CAACC,WAA1B;AACA,IAAIC,GAAG,GAAI,2BAAX;AAEAL,IAAI,CAACM,YAAL,CAAkB,UAAUC,GAAV,EAAeC,GAAf,EAAmB;EACnC,IAAIC,GAAG,GAAGF,GAAG,CAACF,GAAJ,CAAQK,KAAR,CAAc,GAAd,CAAV;EACAD,GAAG,CAAC,CAAD,CAAH,GAASE,kBAAkB,CAACF,GAAG,CAAC,CAAD,CAAJ,CAA3B;EACAG,OAAO,CAACC,GAAR,CAAY,cAAcJ,GAAG,CAAC,CAAD,CAA7B;;EACA,QAAOA,GAAG,CAAC,CAAD,CAAV;IACE,KAAK,GAAL;MACEP,EAAE,CAACY,QAAH,CAAY,wBAAZ,EAAsC,UAASC,GAAT,EAAcC,OAAd,EAAsB;QAC1D,IAAID,GAAJ,EAAS;UACPP,GAAG,CAACS,SAAJ,CAAc,GAAd,EAAmB;YAAC,gBAAgB;UAAjB,CAAnB;UACAT,GAAG,CAACU,GAAJ,CAAQH,GAAG,CAACI,OAAZ,EAAqB,OAArB;UACAP,OAAO,CAACC,GAAR,CAAYE,GAAZ;QACD,CAJD,MAKK;UACHP,GAAG,CAACS,SAAJ,CAAc,GAAd,EAAmB;YAAC,gBAAgB;UAAjB,CAAnB;UACAT,GAAG,CAACU,GAAJ,CAAQF,OAAR,EAAiB,OAAjB;QACD;MACF,CAVD;MAWA;;IACF,KAAK,SAAL;MACER,GAAG,CAACS,SAAJ,CAAc,GAAd,EAAmB;QAAC,gBAAgB;MAAjB,CAAnB;MACAb,WAAW,CAACgB,OAAZ,CAAoBf,GAApB,EAAyB,UAASU,GAAT,EAAcM,MAAd,EAAqB;QAC5C,IAAIN,GAAJ,EAAS;UACPH,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BE,GAA9B;QACD,CAFD,MAGK;UACH,IAAIO,EAAE,GAAGD,MAAM,CAACC,EAAP,CAAU,aAAV,CAAT;UACA,IAAIC,UAAU,GAAGD,EAAE,CAACC,UAAH,CAAc,UAAd,CAAjB;UACAA,UAAU,CAACC,IAAX,CAAgB;YAACC,KAAK,EAAE;cAACC,OAAO,EAAEjB,GAAG,CAAC,CAAD;YAAb;UAAR,CAAhB,EAA4CkB,OAA5C,CAAoD,UAASZ,GAAT,EAAca,MAAd,EAAqB;YACvE,IAAIb,GAAJ,EAAS;cACPH,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BE,GAA5B;YACD,CAFD,MAGK;cACHH,OAAO,CAACC,GAAR,CAAYe,MAAZ;cACApB,GAAG,CAACU,GAAJ,CAAQW,IAAI,CAACC,SAAL,CAAeF,MAAf,CAAR;YACD;UACF,CARD;QASD;MACF,CAjBD;MAkBA;;IACF;MACEpB,GAAG,CAACS,SAAJ,CAAc,GAAd,EAAmB;QAAC,gBAAgB;MAAjB,CAAnB;MACAT,GAAG,CAACuB,KAAJ,CAAU,sBACR,UADQ,GAER,WAFQ,GAGR,2BAHQ,GAIR,YAJQ,GAKR,WALF;MAOAvB,GAAG,CAACuB,KAAJ,CAAU,qBAAqBtB,GAAG,CAAC,CAAD,CAAlC;MACAD,GAAG,CAACU,GAAJ,CAAQ,eACN,WADF;MAGA;EAhDJ;AAkDD,CAtDD,EAsDGc,MAtDH,CAsDU,IAtDV,EAsDgB,SAtDhB;AAuDApB,OAAO,CAACC,GAAR,CAAY,mBAAZ"}},"mtime":1668280847014}}